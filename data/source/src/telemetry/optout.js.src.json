[null,null,null,["optout.js","src/telemetry/optout.js",[null,"/*"," * Copyright 2018, Bloombox, LLC. All rights reserved."," *"," * Source and object computer code contained herein is the private intellectual"," * property of Bloombox, a California Limited Liability Corporation. Use of this"," * code in source form requires permission in writing before use or the"," * assembly, distribution, or publishing of derivative works, for commercial"," * purposes or any other purpose, from a duly authorized officer of Momentum"," * Ideas Co."," *"," * Unless required by applicable law or agreed to in writing, software"," * distributed under the License is distributed on an \"AS IS\" BASIS,"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," * See the License for the specific language governing permissions and"," * limitations under the License."," */",null,"/**"," * Bloombox Telemetry: Opt-Out"," *"," * @fileoverview Provides an API to opt-out of telemetry data transmission."," */",null,"/*global goog */",null,"goog.require('bloombox.logging.warn');",null,"goog.require('bloombox.telemetry.internals.disable');","goog.require('bloombox.telemetry.internals.enabled');",null,"goog.provide('bloombox.telemetry.SESSION_STORAGE_OPTOUT_KEY');","goog.provide('bloombox.telemetry.didOptOut');","goog.provide('bloombox.telemetry.optout');",null,null,"/**"," * Session-storage key to look for to indicate whether a user has already opted-"," * out of telemetry data transmission."," *"," * @const {string}"," * @package"," */","bloombox.telemetry.SESSION_STORAGE_OPTOUT_KEY = 'bb:1:t:opt_out';",null,null,"/**"," * Package-exposed function to check the local opt-out state."," *"," * @package"," * @return {boolean} Opt-out status. True if the user has opted out."," */","bloombox.telemetry.didOptOut = function() {","  let value = (","    window.sessionStorage","      .getItem(bloombox.telemetry.SESSION_STORAGE_OPTOUT_KEY));","  return value === 'true' && !bloombox.telemetry.internals.enabled();","};",null,null,"/**"," * Publicly-exposed function to opt-out of telemetry data transmission."," *"," * @export"," */","bloombox.telemetry.optout = function() {","  bloombox.logging.warn('Opted-out of telemetry transmission.');","  bloombox.telemetry.internals.disable();","  window.sessionStorage","      .setItem(bloombox.telemetry.SESSION_STORAGE_OPTOUT_KEY, 'false');","};"]]]
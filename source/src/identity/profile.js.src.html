<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>profile.js</title><link href="../../../dossier.css" rel="stylesheet" type="text/css"><script src="../../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,null,null,[&quot;profile.js&quot;,&quot;src/identity/profile.js&quot;,[null,&quot;/*&quot;,&quot; * Copyright 2018, Bloombox, LLC.&quot;,&quot; *&quot;,&quot; * Licensed under the Apache License, Version 2.0 (the \&quot;License\&quot;);&quot;,&quot; * you may not use this file except in compliance with the License.&quot;,&quot; * You may obtain a copy of the License at&quot;,&quot; *&quot;,&quot; *     http://www.apache.org/licenses/LICENSE-2.0&quot;,&quot; *&quot;,&quot; * Unless required by applicable law or agreed to in writing, software&quot;,&quot; * distributed under the License is distributed on an \&quot;AS IS\&quot; BASIS,&quot;,&quot; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&quot;,&quot; * See the License for the specific language governing permissions and&quot;,&quot; * limitations under the License.&quot;,&quot; */&quot;,null,&quot;/**&quot;,&quot; * Bloombox Identity: Profile&quot;,&quot; *&quot;,&quot; * @fileoverview User identity profile.&quot;,&quot; */&quot;,null,&quot;goog.require(&#39;bloombox.menu.Section&#39;);&quot;,null,&quot;goog.require(&#39;bloombox.product.Grow&#39;);&quot;,&quot;goog.require(&#39;bloombox.product.Species&#39;);&quot;,null,&quot;goog.require(&#39;bloombox.testing.CannabinoidRatio&#39;);&quot;,&quot;goog.require(&#39;bloombox.testing.subjective.Feeling&#39;);&quot;,&quot;goog.require(&#39;bloombox.testing.subjective.PotencyEstimate&#39;);&quot;,&quot;goog.require(&#39;bloombox.testing.subjective.TasteNote&#39;);&quot;,null,&quot;goog.require(&#39;bloombox.util.Exportable&#39;);&quot;,&quot;goog.require(&#39;bloombox.util.Serializable&#39;);&quot;,null,&quot;goog.require(&#39;proto.bloombox.schema.identity.ConsumerPreferences&#39;);&quot;,&quot;goog.require(&#39;proto.bloombox.schema.identity.ConsumerProfile&#39;);&quot;,&quot;goog.require(&#39;proto.bloombox.schema.identity.EnrollmentSource&#39;);&quot;,&quot;goog.require(&#39;proto.bloombox.schema.identity.MenuPreferences&#39;);&quot;,null,&quot;goog.provide(&#39;bloombox.identity.ConsumerProfile&#39;);&quot;,&quot;goog.provide(&#39;bloombox.identity.ConsumerType&#39;);&quot;,&quot;goog.provide(&#39;bloombox.identity.EnrollmentSource&#39;);&quot;,&quot;goog.provide(&#39;bloombox.identity.MenuPreferences&#39;);&quot;,&quot;goog.provide(&#39;bloombox.identity.ProfileException&#39;);&quot;,null,null,&quot;// -- Enrollment Sources -- //&quot;,&quot;/**&quot;,&quot; * Sources for an enrollment.&quot;,&quot; *&quot;,&quot; * @export&quot;,&quot; * @enum {proto.bloombox.schema.identity.EnrollmentSource}&quot;,&quot; */&quot;,&quot;bloombox.identity.EnrollmentSource = {&quot;,&quot;  &#39;UNSPECIFIED&#39;: proto.bloombox.schema.identity.EnrollmentSource.UNSPECIFIED,&quot;,&quot;  &#39;ONLINE&#39;: proto.bloombox.schema.identity.EnrollmentSource.ONLINE,&quot;,&quot;  &#39;INTERNAL_APP&#39;: proto.bloombox.schema.identity.EnrollmentSource.INTERNAL_APP,&quot;,&quot;  &#39;PARTNER_APP&#39;: proto.bloombox.schema.identity.EnrollmentSource.PARTNER_APP,&quot;,&quot;  &#39;IN_STORE&#39;: proto.bloombox.schema.identity.EnrollmentSource.IN_STORE&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Types of customer profiles.&quot;,&quot; *&quot;,&quot; * @export&quot;,&quot; * @enum {proto.bloombox.schema.identity.ConsumerType}&quot;,&quot; */&quot;,&quot;bloombox.identity.ConsumerType = {&quot;,&quot;  &#39;UNVALIDATED&#39;: proto.bloombox.schema.identity.ConsumerType.UNVALIDATED,&quot;,&quot;  &#39;RECREATIONAL&#39;: proto.bloombox.schema.identity.ConsumerType.RECREATIONAL,&quot;,&quot;  &#39;MEDICAL&#39;: proto.bloombox.schema.identity.ConsumerType.MEDICAL&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Represents an exception that occurred while preparing a consumer profile.&quot;,&quot; *&quot;,&quot; * @param {string} message Exception error message.&quot;,&quot; * @constructor&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.ProfileException = function ProfileException(message) {&quot;,&quot;  this.message = message;&quot;,&quot;};&quot;,null,null,&quot;// -- Profile -- //&quot;,&quot;/**&quot;,&quot; * Specifies a profile that may be attached to a consumer, specifying various&quot;,&quot; * details that relate to how they consume cannabis.&quot;,&quot; *&quot;,&quot; * @param {bloombox.identity.EnrollmentSource} source Enrollment source.&quot;,&quot; * @param {string} channel Enrollment channel.&quot;,&quot; * @param {bloombox.identity.MenuPreferences} menu_prefs User&#39;s menu prefs.&quot;,&quot; * @param {bloombox.identity.ConsumerType=} opt_type Optional explicit consumer&quot;,&quot; *        profile type. Defaults to &#39;UNVALIDATED&#39;, and is auto-detected by the&quot;,&quot; *        server with aggressive preference towards &#39;RECREATIONAL&#39;.&quot;,&quot; * @throws {bloombox.identity.ProfileException} If params provided are invalid.&quot;,&quot; * @constructor&quot;,&quot; * @implements {bloombox.util.Serializable}&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.ConsumerProfile = function ConsumerProfile(source,&quot;,&quot;                                                             channel,&quot;,&quot;                                                             menu_prefs,&quot;,&quot;                                                             opt_type) {&quot;,&quot;  /**&quot;,&quot;   * Source for this enrollment.&quot;,&quot;   *&quot;,&quot;   * @export&quot;,&quot;   * @type {bloombox.identity.EnrollmentSource}&quot;,&quot;   */&quot;,&quot;  this.source = source;&quot;,null,&quot;  /**&quot;,&quot;   * Channel name for this enrollment.&quot;,&quot;   *&quot;,&quot;   * @export&quot;,&quot;   * @type {string}&quot;,&quot;   */&quot;,&quot;  this.channel = channel;&quot;,null,&quot;  // noinspection JSUnusedGlobalSymbols&quot;,&quot;  /**&quot;,&quot;   * Specifies menu preferences for this user.&quot;,&quot;   *&quot;,&quot;   * @export&quot;,&quot;   * @type {bloombox.identity.MenuPreferences}&quot;,&quot;   */&quot;,&quot;  this.menuPreferences = menu_prefs;&quot;,null,&quot;  /**&quot;,&quot;   * Type of consumer profile.&quot;,&quot;   *&quot;,&quot;   * @export&quot;,&quot;   * @type {bloombox.identity.ConsumerType}&quot;,&quot;   */&quot;,&quot;  this.type = opt_type || bloombox.identity.ConsumerType.UNVALIDATED;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Export the current consumer profile as a native JS object.&quot;,&quot; *&quot;,&quot; * @public&quot;,&quot; * @return {Object} Raw object representing this consumer profile.&quot;,&quot; */&quot;,&quot;bloombox.identity.ConsumerProfile.prototype.serialize = function() {&quot;,&quot;  return {&quot;,&quot;    &#39;type&#39;: this.type,&quot;,&quot;    &#39;enrollmentSource&#39;: this.source,&quot;,&quot;    &#39;enrollmentChannel&#39;: this.channel,&quot;,&quot;    &#39;preferences&#39;: {&quot;,&quot;      &#39;menu&#39;: this.menuPreferences.serialize()&quot;,&quot;    }&quot;,&quot;  };&quot;,&quot;};&quot;,null,null,&quot;// -- Menu Preferences -- //&quot;,&quot;/**&quot;,&quot; * Specifies a structure that allows a user to enumerate menu-related&quot;,&quot; * preferences for their consumption profile.&quot;,&quot; *&quot;,&quot; * @param {Array&lt;bloombox.menu.Section&gt;=} opt_sections Sections to initialize.&quot;,&quot; * @param {Array&lt;bloombox.product.Species&gt;=} opt_species Species to initialize.&quot;,&quot; * @param {Array&lt;bloombox.product.Grow&gt;=} opt_grows Grows to initialize.&quot;,&quot; * @param {Array&lt;bloombox.testing.subjective.Feeling&gt;=} opt_feelings Feelings to&quot;,&quot; *        initialize.&quot;,&quot; * @param {Array&lt;bloombox.testing.subjective.TasteNote&gt;=} opt_tastes Taste notes&quot;,&quot; *        to initialize.&quot;,&quot; * @param {?bloombox.testing.subjective.PotencyEstimate=} opt_potency&quot;,&quot; *        Desired potency level.&quot;,&quot; * @param {?bloombox.testing.CannabinoidRatio=} opt_ratio Ratio to initialize.&quot;,&quot; * @implements {bloombox.util.Serializable}&quot;,&quot; * @constructor&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences = function MenuPreferences(opt_sections,&quot;,&quot;                                                             opt_species,&quot;,&quot;                                                             opt_grows,&quot;,&quot;                                                             opt_feelings,&quot;,&quot;                                                             opt_tastes,&quot;,&quot;                                                             opt_potency,&quot;,&quot;                                                             opt_ratio) {&quot;,&quot;  /**&quot;,&quot;   * Preferred menu sections/product types.&quot;,&quot;   *&quot;,&quot;   * @export&quot;,&quot;   * @type {Set&lt;bloombox.menu.Section&gt;}&quot;,&quot;   */&quot;,&quot;  this.sections = new Set(opt_sections || []);&quot;,null,&quot;  /**&quot;,&quot;   * Preferred feelings or target states.&quot;,&quot;   *&quot;,&quot;   * @export&quot;,&quot;   * @type {Set&lt;bloombox.testing.subjective.Feeling&gt;}&quot;,&quot;   */&quot;,&quot;  this.feelings = new Set(opt_feelings || []);&quot;,null,&quot;  /**&quot;,&quot;   * Preferred tastes.&quot;,&quot;   *&quot;,&quot;   * @export&quot;,&quot;   * @type {Set&lt;bloombox.testing.subjective.TasteNote&gt;}&quot;,&quot;   */&quot;,&quot;  this.tastes = new Set(opt_tastes || []);&quot;,null,&quot;  /**&quot;,&quot;   * Preferred species types.&quot;,&quot;   *&quot;,&quot;   * @export&quot;,&quot;   * @type {Set&lt;bloombox.product.Species&gt;}&quot;,&quot;   */&quot;,&quot;  this.species = new Set(opt_species || []);&quot;,null,&quot;  /**&quot;,&quot;   * Preferred grow types.&quot;,&quot;   *&quot;,&quot;   * @export&quot;,&quot;   * @type {Set&lt;bloombox.product.Grow&gt;}&quot;,&quot;   */&quot;,&quot;  this.grows = new Set(opt_grows || []);&quot;,null,&quot;  /**&quot;,&quot;   * Desired potency level.&quot;,&quot;   *&quot;,&quot;   * @export&quot;,&quot;   * @type {bloombox.testing.subjective.PotencyEstimate}&quot;,&quot;   */&quot;,&quot;  this.potency = (opt_potency ||&quot;,&quot;    bloombox.testing.subjective.PotencyEstimate.LIGHT);&quot;,null,&quot;  /**&quot;,&quot;   * Desired cannabinoid ratio.&quot;,&quot;   *&quot;,&quot;   * @type {bloombox.testing.CannabinoidRatio}&quot;,&quot;   */&quot;,&quot;  this.ratio = (opt_ratio ||&quot;,&quot;    bloombox.testing.CannabinoidRatio.NO_CANNABINOID_PREFERENCE);&quot;,&quot;};&quot;,null,&quot;/**&quot;,&quot; * Export the current set of menu preferences as a native JS object.&quot;,&quot; *&quot;,&quot; * @public&quot;,&quot; * @return {Object} Raw object representing this set of menu prefs.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.serialize = function() {&quot;,&quot;  return {&quot;,&quot;    &#39;section&#39;: this.sections ? Array.from(this.sections) : [],&quot;,&quot;    &#39;feeling&#39;: this.feelings ? Array.from(this.feelings) : [],&quot;,&quot;    &#39;tasteNote&#39;: this.tastes ? Array.from(this.tastes) : [],&quot;,&quot;    &#39;grow&#39;: this.grows ? Array.from(this.grows) : [],&quot;,&quot;    &#39;species&#39;: this.species ? Array.from(this.species) : [],&quot;,&quot;    &#39;cannabinoidRatio&#39;: this.ratio,&quot;,&quot;    &#39;desiredPotency&#39;: this.potency&quot;,&quot;  };&quot;,&quot;};&quot;,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Clear all current preferred sections.&quot;,&quot; *&quot;,&quot; * @export&quot;,&quot; * @return {bloombox.identity.MenuPreferences} Self, for chainability.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.clearSections = function() {&quot;,&quot;  this.sections.clear();&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Add a preferred menu section.&quot;,&quot; *&quot;,&quot; * @param {bloombox.menu.Section} section Section to add.&quot;,&quot; * @export&quot;,&quot; * @return {bloombox.identity.MenuPreferences} Self, for chainability.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.addSection = function(section) {&quot;,&quot;  this.sections.add(section);&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Clear all current preferred species.&quot;,&quot; *&quot;,&quot; * @export&quot;,&quot; * @return {bloombox.identity.MenuPreferences} Self, for chainability.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.clearSpecies = function() {&quot;,&quot;  this.species.clear();&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Add a preferred species type.&quot;,&quot; *&quot;,&quot; * @param {bloombox.product.Species} species Species to add.&quot;,&quot; * @export&quot;,&quot; * @return {bloombox.identity.MenuPreferences} Self, for chainability.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.addSpecies = function(species) {&quot;,&quot;  this.species.add(species);&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Clear all current preferred grow types.&quot;,&quot; *&quot;,&quot; * @export&quot;,&quot; * @return {bloombox.identity.MenuPreferences} Self, for chainability.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.clearGrows = function() {&quot;,&quot;  this.grows.clear();&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Add a preferred grow type.&quot;,&quot; *&quot;,&quot; * @param {bloombox.product.Grow} grow Grow type to add.&quot;,&quot; * @export&quot;,&quot; * @return {bloombox.identity.MenuPreferences} Self, for chainability.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.addGrow = function(grow) {&quot;,&quot;  this.grows.add(grow);&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Clear all current preferred feelings.&quot;,&quot; *&quot;,&quot; * @export&quot;,&quot; * @return {bloombox.identity.MenuPreferences} Self, for chainability.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.clearFeelings = function() {&quot;,&quot;  this.feelings.clear();&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Add a preferred target feeling or state.&quot;,&quot; *&quot;,&quot; * @param {bloombox.testing.subjective.Feeling} feeling Feeling to add.&quot;,&quot; * @export&quot;,&quot; * @return {bloombox.identity.MenuPreferences} Self, for chainability.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.addFeeling = function(feeling) {&quot;,&quot;  this.feelings.add(feeling);&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Clear currently-set preferred tastes.&quot;,&quot; *&quot;,&quot; * @export&quot;,&quot; * @return {bloombox.identity.MenuPreferences} Self, for chainability.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.clearTastes = function() {&quot;,&quot;  this.tastes.clear();&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Add a preferred taste.&quot;,&quot; *&quot;,&quot; * @param {bloombox.testing.subjective.TasteNote} taste Taste note to add.&quot;,&quot; * @export&quot;,&quot; * @return {bloombox.identity.MenuPreferences} Self, for chainability.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.addTaste = function(taste) {&quot;,&quot;  this.tastes.add(taste);&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Set the user&#39;s desired potency level.&quot;,&quot; *&quot;,&quot; * @param {bloombox.testing.subjective.PotencyEstimate} potency Desired potency&quot;,&quot; *        level to set.&quot;,&quot; * @export&quot;,&quot; * @return {bloombox.identity.MenuPreferences} Self, for chainability.&quot;,&quot; */&quot;,&quot;bloombox.identity.MenuPreferences.prototype.setPotency = function(potency) {&quot;,&quot;  this.potency = potency;&quot;,&quot;  return this;&quot;,&quot;};&quot;]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../dossier.js" defer></script>
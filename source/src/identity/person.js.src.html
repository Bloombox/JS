<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>person.js</title><link href="../../../dossier.css" rel="stylesheet" type="text/css"><script src="../../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,null,null,[&quot;person.js&quot;,&quot;src/identity/person.js&quot;,[null,&quot;/*&quot;,&quot; * Copyright 2018, Bloombox, LLC.&quot;,&quot; *&quot;,&quot; * Licensed under the Apache License, Version 2.0 (the \&quot;License\&quot;);&quot;,&quot; * you may not use this file except in compliance with the License.&quot;,&quot; * You may obtain a copy of the License at&quot;,&quot; *&quot;,&quot; *     http://www.apache.org/licenses/LICENSE-2.0&quot;,&quot; *&quot;,&quot; * Unless required by applicable law or agreed to in writing, software&quot;,&quot; * distributed under the License is distributed on an \&quot;AS IS\&quot; BASIS,&quot;,&quot; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&quot;,&quot; * See the License for the specific language governing permissions and&quot;,&quot; * limitations under the License.&quot;,&quot; */&quot;,null,&quot;/**&quot;,&quot; * Bloombox: Person&quot;,&quot; *&quot;,&quot; * @fileoverview Provides a central object to express a human being.&quot;,&quot; */&quot;,null,&quot;/*global goog */&quot;,null,&quot;goog.provide(&#39;bloombox.identity.ContactInfo&#39;);&quot;,&quot;goog.provide(&#39;bloombox.identity.Person&#39;);&quot;,&quot;goog.provide(&#39;bloombox.identity.PersonException&#39;);&quot;,&quot;goog.provide(&#39;bloombox.identity.StreetAddress&#39;);&quot;,null,&quot;goog.require(&#39;proto.opencannabis.person.Name&#39;);&quot;,&quot;goog.require(&#39;proto.opencannabis.temporal.Date&#39;);&quot;,null,null,&quot;/**&quot;,&quot; * Represents an exception that occurred while creating or validating a user.&quot;,&quot; *&quot;,&quot; * @param {string} message Exception error message.&quot;,&quot; * @constructor&quot;,&quot; */&quot;,&quot;bloombox.identity.PersonException = function PersonException(message) {&quot;,&quot;  this.message = message;&quot;,&quot;};&quot;,null,null,&quot;// -- Street Address -- //&quot;,null,&quot;/**&quot;,&quot; * Physical street address for a user/person.&quot;,&quot; *&quot;,&quot; * @param {string} firstLine First address line.&quot;,&quot; * @param {?string} secondLine Second address line, if any.&quot;,&quot; * @param {string} city City name.&quot;,&quot; * @param {string} state State or province code, like \&quot;CA\&quot;.&quot;,&quot; * @param {string} zip USPS zipcode.&quot;,&quot; * @param {?string=} country Optional country code. Defaults to \&quot;USA\&quot;.&quot;,&quot; * @throws {bloombox.identity.PersonException} If provided data is not valid.&quot;,&quot; * @constructor&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.StreetAddress = function StreetAddress(firstLine,&quot;,&quot;                                                         secondLine,&quot;,&quot;                                                         city,&quot;,&quot;                                                         state,&quot;,&quot;                                                         zip,&quot;,&quot;                                                         country) {&quot;,&quot;  // checks/validations&quot;,&quot;  if (!firstLine || !(typeof firstLine === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.PersonException(&quot;,&quot;      &#39;Invalid first address line: \\&#39;&#39; + firstLine + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!city || !(typeof city === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.PersonException(&quot;,&quot;      &#39;Invalid address city: \\&#39;&#39; + city + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!zip || !(typeof zip === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.PersonException(&quot;,&quot;      &#39;Invalid address zip: \\&#39;&#39; + zip + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!state || !(typeof state === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.PersonException(&quot;,&quot;      &#39;Invalid address state: \\&#39;&#39; + state + &#39;\\&#39;.&#39;);&quot;,null,&quot;  /**&quot;,&quot;   * First address line.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.firstLine = firstLine;&quot;,null,&quot;  /**&quot;,&quot;   * Second address line, if any.&quot;,&quot;   * @type {?string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.secondLine = secondLine || null;&quot;,null,&quot;  /**&quot;,&quot;   * City name.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.city = city;&quot;,null,&quot;  /**&quot;,&quot;   * State code, like \&quot;CA\&quot; for California.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.state = state;&quot;,null,&quot;  /**&quot;,&quot;   * USPS zipcode.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.zip = zip;&quot;,null,&quot;  /**&quot;,&quot;   * Country code, like \&quot;US\&quot; for United States.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.country = country || &#39;USA&#39;;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Retrieve the first line of this address.&quot;,&quot; *&quot;,&quot; * @return {string} Address first line.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.StreetAddress.prototype.getFirstLine = function() {&quot;,&quot;  return this.firstLine;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Retrieve the second line of this address, or `null`, if none is specified.&quot;,&quot; *&quot;,&quot; * @return {?string} Second address line, or `null`.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.StreetAddress.prototype.getSecondLine = function() {&quot;,&quot;  return this.secondLine || null;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Retrieve the city value of this address.&quot;,&quot; *&quot;,&quot; * @return {string} City name.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.StreetAddress.prototype.getCity = function() {&quot;,&quot;  return this.city;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Retrieve the state value of this address, in abbreviated form.&quot;,&quot; *&quot;,&quot; * @return {string} State value of this address, i.e. &#39;CA&#39;.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.StreetAddress.prototype.getState = function() {&quot;,&quot;  return this.state;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Retrieve the zipcode value of this address.&quot;,&quot; *&quot;,&quot; * @return {string} USPS zipcode, i.e. &#39;95616&#39;.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.StreetAddress.prototype.getZipcode = function() {&quot;,&quot;  return this.zip;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Inflate a street address object from a raw object response.&quot;,&quot; *&quot;,&quot; * @param {?Object} obj Response object to inflate from.&quot;,&quot; * @return {?bloombox.identity.StreetAddress} Inflated street address object.&quot;,&quot; */&quot;,&quot;bloombox.identity.StreetAddress.fromResponse = function(obj) {&quot;,&quot;  if (obj[&#39;firstLine&#39;] &amp;&amp; obj[&#39;city&#39;] &amp;&amp; obj[&#39;state&#39;] &amp;&amp; obj[&#39;zipcode&#39;])&quot;,&quot;    return new bloombox.identity.StreetAddress(&quot;,&quot;      obj[&#39;firstLine&#39;],&quot;,&quot;      obj[&#39;secondLine&#39;] || null,&quot;,&quot;      obj[&#39;city&#39;],&quot;,&quot;      obj[&#39;state&#39;],&quot;,&quot;      obj[&#39;zipcode&#39;],&quot;,&quot;      obj[&#39;country&#39;] || &#39;USA&#39;);&quot;,&quot;  return null;  // fail gracefully&quot;,&quot;};&quot;,null,null,&quot;// -- Contact Info -- //&quot;,null,&quot;/**&quot;,&quot; * Contact information for a user.&quot;,&quot; *&quot;,&quot; * @param {?string} emailAddress Email address for a user.&quot;,&quot; * @param {?string} phoneNumber Phone number for a user.&quot;,&quot; * @param {?bloombox.identity.StreetAddress=} streetAddress Street&quot;,&quot; *        address for a user.&quot;,&quot; * @throws {bloombox.identity.PersonException} If provided data is not valid.&quot;,&quot; * @constructor&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.ContactInfo = function ContactInfo(emailAddress,&quot;,&quot;                                                     phoneNumber,&quot;,&quot;                                                     streetAddress) {&quot;,&quot;  if (!emailAddress || !(typeof emailAddress === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.PersonException(&quot;,&quot;      &#39;Invalid email address: \\&#39;&#39; + emailAddress + &#39;\\&#39;.&#39;);&quot;,null,&quot;  /**&quot;,&quot;   * Email address.&quot;,&quot;   *&quot;,&quot;   * @type {string}&quot;,&quot;   * @export&quot;,&quot;   */&quot;,&quot;  this.emailAddress = emailAddress;&quot;,null,&quot;  /**&quot;,&quot;   * Phone number.&quot;,&quot;   *&quot;,&quot;   * @type {?string}&quot;,&quot;   * @export&quot;,&quot;   */&quot;,&quot;  this.phoneNumber = phoneNumber || null;&quot;,null,&quot;  /**&quot;,&quot;   * Street address.&quot;,&quot;   *&quot;,&quot;   * @type {?bloombox.identity.StreetAddress}&quot;,&quot;   * @export&quot;,&quot;   */&quot;,&quot;  this.streetAddress = streetAddress || null;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Return this user&#39;s email address.&quot;,&quot; *&quot;,&quot; * @return {string} User&#39;s email address.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.ContactInfo.prototype.getEmailAddress = function() {&quot;,&quot;  return this.emailAddress;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Return this user&#39;s phone number.&quot;,&quot; *&quot;,&quot; * @return {?string} User&#39;s phone number.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.ContactInfo.prototype.getPhoneNumber = function() {&quot;,&quot;  return this.phoneNumber;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Return this user&#39;s street address.&quot;,&quot; *&quot;,&quot; * @return {bloombox.identity.StreetAddress} User&#39;s street address.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.ContactInfo.prototype.getStreetAddress = function() {&quot;,&quot;  return this.streetAddress;&quot;,&quot;};&quot;,null,null,&quot;// -- Person -- //&quot;,null,&quot;/**&quot;,&quot; * Represents a human being, with contact info and a date of birth.&quot;,&quot; *&quot;,&quot; * @param {string} firstName Person&#39;s given name.&quot;,&quot; * @param {string} lastName Person&#39;s family name.&quot;,&quot; * @param {bloombox.identity.ContactInfo} contactInfo Contact info for this&quot;,&quot; *        person.&quot;,&quot; * @param {?string} dateOfBirth Date of birth for this person, in YYYY-MM-DD&quot;,&quot; *        format.&quot;,&quot; * @constructor&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.Person = function Person(firstName,&quot;,&quot;                                           lastName,&quot;,&quot;                                           contactInfo,&quot;,&quot;                                           dateOfBirth) {&quot;,&quot;  if (!firstName || !(typeof firstName === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.PersonException(&quot;,&quot;      &#39;Invalid first name: \\&#39;&#39; + firstName + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!lastName || !(typeof lastName === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.PersonException(&quot;,&quot;      &#39;Invalid last name: \\&#39;&#39; + lastName + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!contactInfo)&quot;,&quot;    throw new bloombox.identity.PersonException(&quot;,&quot;      &#39;Invalid contact info: \\&#39;&#39; + lastName + &#39;\\&#39;.&#39;);&quot;,&quot;  if (dateOfBirth !== null &amp;&amp;&quot;,&quot;     (!dateOfBirth || !(typeof dateOfBirth === &#39;string&#39;)))&quot;,&quot;    throw new bloombox.identity.PersonException(&quot;,&quot;      &#39;Invalid date of birth (must be in YYYY-MM-DD format): \\&#39;&#39; +&quot;,&quot;      dateOfBirth + &#39;\\&#39;.&#39;);&quot;,null,&quot;  // setup a name object&quot;,&quot;  let name = new proto.opencannabis.person.Name();&quot;,&quot;  name.setFirstName(firstName);&quot;,&quot;  name.setLastName(lastName);&quot;,null,&quot;  // setup an instant object&quot;,&quot;  let instant = new proto.opencannabis.temporal.Date();&quot;,&quot;  if (dateOfBirth !== null) {&quot;,&quot;    instant.setIso8601(dateOfBirth);&quot;,&quot;  }&quot;,null,&quot;  /**&quot;,&quot;   * Person&#39;s name.&quot;,&quot;   *&quot;,&quot;   * @type {proto.opencannabis.person.Name}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.name = name;&quot;,null,&quot;  /**&quot;,&quot;   * Person&#39;s contact info.&quot;,&quot;   *&quot;,&quot;   * @type {bloombox.identity.ContactInfo}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.contactInfo = contactInfo;&quot;,null,&quot;  /**&quot;,&quot;   * Person&#39;s date of birth.&quot;,&quot;   *&quot;,&quot;   * @type {?proto.opencannabis.temporal.Date}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.dateOfBirth = dateOfBirth !== null ? instant : null;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Get the user&#39;s first name.&quot;,&quot; *&quot;,&quot; * @return {string} User&#39;s given name.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.Person.prototype.getFirstName = function() {&quot;,&quot;  return this.name.getFirstName();&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Get the user&#39;s last name.&quot;,&quot; *&quot;,&quot; * @return {string} User&#39;s family name.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.Person.prototype.getLastName = function() {&quot;,&quot;  return this.name.getLastName();&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Return this user&#39;s contact info.&quot;,&quot; *&quot;,&quot; * @return {bloombox.identity.ContactInfo} Contact info for this user.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.Person.prototype.getContactInfo = function() {&quot;,&quot;  return this.contactInfo;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Get the user&#39;s date of birth.&quot;,&quot; *&quot;,&quot; * @return {?string} User&#39;s date of birth.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.Person.prototype.getDateOfBirth = function() {&quot;,&quot;  return this.dateOfBirth !== null ? this.dateOfBirth.getIso8601() : null;&quot;,&quot;};&quot;]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../dossier.js" defer></script>
<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>id.js</title><link href="../../../dossier.css" rel="stylesheet" type="text/css"><script src="../../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,null,null,[&quot;id.js&quot;,&quot;src/identity/id.js&quot;,[null,&quot;/*&quot;,&quot; * Copyright 2018, Bloombox, LLC.&quot;,&quot; *&quot;,&quot; * Licensed under the Apache License, Version 2.0 (the \&quot;License\&quot;);&quot;,&quot; * you may not use this file except in compliance with the License.&quot;,&quot; * You may obtain a copy of the License at&quot;,&quot; *&quot;,&quot; *     http://www.apache.org/licenses/LICENSE-2.0&quot;,&quot; *&quot;,&quot; * Unless required by applicable law or agreed to in writing, software&quot;,&quot; * distributed under the License is distributed on an \&quot;AS IS\&quot; BASIS,&quot;,&quot; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&quot;,&quot; * See the License for the specific language governing permissions and&quot;,&quot; * limitations under the License.&quot;,&quot; */&quot;,null,&quot;/**&quot;,&quot; * Bloombox: Government ID&quot;,&quot; *&quot;,&quot; * @fileoverview Provides an object specification for a user&#39;s&quot;,&quot; * government-issued ID.&quot;,&quot; */&quot;,null,&quot;/*global goog */&quot;,null,&quot;goog.provide(&#39;bloombox.identity.ID&#39;);&quot;,&quot;goog.provide(&#39;bloombox.identity.IDException&#39;);&quot;,&quot;goog.provide(&#39;bloombox.identity.IDType&#39;);&quot;,null,&quot;goog.require(&#39;proto.bloombox.schema.identity.IDType&#39;);&quot;,&quot;goog.require(&#39;proto.opencannabis.temporal.Date&#39;);&quot;,null,null,&quot;/**&quot;,&quot; * Represents an exception that occurred while creating or validating a user&#39;s&quot;,&quot; * government ID.&quot;,&quot; *&quot;,&quot; * @param {string} message Exception error message.&quot;,&quot; * @constructor&quot;,&quot; */&quot;,&quot;bloombox.identity.IDException = function IDException(message) {&quot;,&quot;  this.message = message;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Specifies supported types of government ID.&quot;,&quot; *&quot;,&quot; * @enum {proto.bloombox.schema.identity.IDType}&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.IDType = {&quot;,&quot;  &#39;USDL&#39;: proto.bloombox.schema.identity.IDType.USDL,&quot;,&quot;  &#39;PASSPORT&#39;: proto.bloombox.schema.identity.IDType.PASSPORT&quot;,&quot;};&quot;,null,null,&quot;// -- License -- //&quot;,&quot;/**&quot;,&quot; * Specifies an object structure for expressing a user&#39;s government ID.&quot;,&quot; *&quot;,&quot; * @param {bloombox.identity.IDType} type Type for the ID.&quot;,&quot; * @param {string} id ID number for the identifying document.&quot;,&quot; * @param {string} expirationDate Expiration date, in YYYY-MM-DD format.&quot;,&quot; * @param {string} birthDate Birth date, in YYYY-MM-DD format.&quot;,&quot; * @param {string} jurisdiction State jurisdiction that issued the license,&quot;,&quot; *        for instance, \&quot;CALIFORNIA\&quot;.&quot;,&quot; * @param {?string=} country Country of issuance, defaults to \&quot;USA\&quot;.&quot;,&quot; * @throws {bloombox.identity.IDException} If the provided data is invalid.&quot;,&quot; * @constructor&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.ID = function ID(type,&quot;,&quot;                                   id,&quot;,&quot;                                   expirationDate,&quot;,&quot;                                   birthDate,&quot;,&quot;                                   jurisdiction,&quot;,&quot;                                   country) {&quot;,&quot;  if (!id || !(typeof id === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.IDException(&quot;,&quot;      &#39;Invalid driver\\&#39;s license ID: \\&#39;&#39; + id + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!expirationDate || !(typeof expirationDate === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.IDException(&quot;,&quot;      &#39;Invalid driver\\&#39;s license expiry date: \\&#39;&#39; + expirationDate + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!birthDate || !(typeof birthDate === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.IDException(&quot;,&quot;      &#39;Invalid driver\\&#39;s license birth date: \\&#39;&#39; + birthDate + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!jurisdiction || !(typeof jurisdiction === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.IDException(&quot;,&quot;      &#39;Invalid driver\\&#39;s license issuance jurisdiction: \\&#39;&#39; +&quot;,&quot;      jurisdiction + &#39;\\&#39;.&#39;);&quot;,null,&quot;  // setup an instant object&quot;,&quot;  let expirationObj = new proto.opencannabis.temporal.Date();&quot;,&quot;  expirationObj.setIso8601(expirationDate);&quot;,null,&quot;  let birthObj = new proto.opencannabis.temporal.Date();&quot;,&quot;  birthObj.setIso8601(birthDate);&quot;,null,&quot;  /**&quot;,&quot;   * Type of the ID we&#39;re storing.&quot;,&quot;   * @type {bloombox.identity.IDType}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.type = type;&quot;,null,&quot;  /**&quot;,&quot;   * ID number or string for this document.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.id = id;&quot;,null,&quot;  /**&quot;,&quot;   * Document expiration date.&quot;,&quot;   * @type {proto.opencannabis.temporal.Date}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.expirationDate = expirationObj;&quot;,null,&quot;  /**&quot;,&quot;   * Document birth date.&quot;,&quot;   * @type {proto.opencannabis.temporal.Date}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.birthDate = birthObj;&quot;,null,&quot;  /**&quot;,&quot;   * Document&#39;s issuance jurisdiction.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.jurisdiction = jurisdiction.toUpperCase();&quot;,null,&quot;  /**&quot;,&quot;   * Country of origin. Defaults to \&quot;USA\&quot;.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.country = country || &#39;USA&#39;;&quot;,&quot;};&quot;]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../dossier.js" defer></script>
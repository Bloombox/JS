<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>rec.js</title><link href="../../../dossier.css" rel="stylesheet" type="text/css"><script src="../../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,null,null,[&quot;rec.js&quot;,&quot;src/identity/rec.js&quot;,[null,&quot;/*&quot;,&quot; * Copyright 2018, Bloombox, LLC.&quot;,&quot; *&quot;,&quot; * Licensed under the Apache License, Version 2.0 (the \&quot;License\&quot;);&quot;,&quot; * you may not use this file except in compliance with the License.&quot;,&quot; * You may obtain a copy of the License at&quot;,&quot; *&quot;,&quot; *     http://www.apache.org/licenses/LICENSE-2.0&quot;,&quot; *&quot;,&quot; * Unless required by applicable law or agreed to in writing, software&quot;,&quot; * distributed under the License is distributed on an \&quot;AS IS\&quot; BASIS,&quot;,&quot; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&quot;,&quot; * See the License for the specific language governing permissions and&quot;,&quot; * limitations under the License.&quot;,&quot; */&quot;,null,&quot;/**&quot;,&quot; * Bloombox: Doctor&#39;s Recommendation&quot;,&quot; *&quot;,&quot; * @fileoverview Provides an object specification for a doctor&#39;s rec to legally&quot;,&quot; * purchase cannabis.&quot;,&quot; */&quot;,null,&quot;/*global goog */&quot;,null,&quot;goog.provide(&#39;bloombox.identity.DoctorRec&#39;);&quot;,&quot;goog.provide(&#39;bloombox.identity.RecException&#39;);&quot;,null,&quot;goog.require(&#39;bloombox.identity.ContactInfo&#39;);&quot;,null,&quot;goog.require(&#39;proto.opencannabis.person.Name&#39;);&quot;,&quot;goog.require(&#39;proto.opencannabis.temporal.Date&#39;);&quot;,null,null,&quot;/**&quot;,&quot; * Represents an exception that occurred while creating or validating a doctor&#39;s&quot;,&quot; * rec.&quot;,&quot; *&quot;,&quot; * @param {string} message Exception error message.&quot;,&quot; * @constructor&quot;,&quot; */&quot;,&quot;bloombox.identity.RecException = function RecException(message) {&quot;,&quot;  this.message = message;&quot;,&quot;};&quot;,null,null,&quot;// -- Doctor&#39;s Rec -- //&quot;,null,&quot;/**&quot;,&quot; * Recommendation from a doctor for cannabis.&quot;,&quot; *&quot;,&quot; * @param {string} id Recommendation ID.&quot;,&quot; * @param {?string} doctorId ID for the doctor who issued the rec.&quot;,&quot; * @param {string} expirationDate Expiration date, in format YYYY-MM-DD.&quot;,&quot; * @param {string} state State or province code, for example, \&quot;CA\&quot;.&quot;,&quot; * @param {string} doctorFirstName Issuing doctor&#39;s first name.&quot;,&quot; * @param {string} doctorLastName Issuing doctor&#39;s last name.&quot;,&quot; * @param {string} doctorPhoneNumber Issuing doctor&#39;s phone number.&quot;,&quot; * @param {?string=} country Country code, for example, \&quot;USA\&quot;.&quot;,&quot; * @param {?string=} doctorWebsite Doctor&#39;s website.&quot;,&quot; * @constructor&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.identity.DoctorRec = function DoctorRec(id,&quot;,&quot;                                                 doctorId,&quot;,&quot;                                                 expirationDate,&quot;,&quot;                                                 state,&quot;,&quot;                                                 doctorFirstName,&quot;,&quot;                                                 doctorLastName,&quot;,&quot;                                                 doctorPhoneNumber,&quot;,&quot;                                                 country,&quot;,&quot;                                                 doctorWebsite) {&quot;,&quot;  // checks/validations&quot;,&quot;  if (!id || !(typeof id === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.RecException(&quot;,&quot;      &#39;Invalid rec ID: \\&#39;&#39; + id + &#39;\\&#39;.&#39;);&quot;,&quot;  if (doctorId !== null &amp;&amp;&quot;,&quot;     (!doctorId || !(typeof doctorId === &#39;string&#39;)))&quot;,&quot;    throw new bloombox.identity.RecException(&quot;,&quot;      &#39;Invalid doctor ID: \\&#39;&#39; + doctorId + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!expirationDate || !(typeof expirationDate === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.RecException(&quot;,&quot;      &#39;Invalid rec issuance date: \\&#39;&#39; + expirationDate + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!state || !(typeof state === &#39;string&#39;) || state.length !== 2)&quot;,&quot;    throw new bloombox.identity.RecException(&quot;,&quot;      &#39;Invalid rec jurisdiction state: \\&#39;&#39; + state + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!doctorFirstName || !(typeof doctorFirstName === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.RecException(&quot;,&quot;      &#39;Invalid physician first name: \\&#39;&#39; + doctorFirstName + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!doctorLastName || !(typeof doctorLastName === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.RecException(&quot;,&quot;      &#39;Invalid physician last name: \\&#39;&#39; + doctorLastName + &#39;\\&#39;.&#39;);&quot;,&quot;  if (!doctorPhoneNumber || !(typeof doctorPhoneNumber === &#39;string&#39;))&quot;,&quot;    throw new bloombox.identity.RecException(&quot;,&quot;      &#39;Invalid physician phone number: \\&#39;&#39; + doctorPhoneNumber + &#39;\\&#39;.&#39;);&quot;,null,&quot;  // setup a name object&quot;,&quot;  let doctorName = new proto.opencannabis.person.Name();&quot;,&quot;  doctorName.setFirstName(doctorFirstName);&quot;,&quot;  doctorName.setLastName(doctorLastName);&quot;,null,&quot;  // make objects for instants&quot;,&quot;  let expirationObj = new proto.opencannabis.temporal.Date();&quot;,&quot;  expirationObj.setIso8601(expirationDate);&quot;,null,&quot;  // assign properties&quot;,null,&quot;  /**&quot;,&quot;   * Recommendation ID.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.id = id;&quot;,null,&quot;  /**&quot;,&quot;   * Doctor ID, if present.&quot;,&quot;   * @type {?string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.doctorId = doctorId || null;&quot;,null,&quot;  /**&quot;,&quot;   * Expiration date instant.&quot;,&quot;   * @type {proto.opencannabis.temporal.Date}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.expirationDate = expirationObj;&quot;,null,&quot;  /**&quot;,&quot;   * State code, like \&quot;CA\&quot;.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.state = state;&quot;,null,&quot;  /**&quot;,&quot;   * Country code, like \&quot;USA\&quot;.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.country = country || &#39;USA&#39;;&quot;,null,&quot;  /**&quot;,&quot;   * Doctor&#39;s name.&quot;,&quot;   * @type {proto.opencannabis.person.Name}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.doctorName = doctorName;&quot;,null,&quot;  /**&quot;,&quot;   * Doctor&#39;s phone.&quot;,&quot;   * @type {string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.doctorPhone = doctorPhoneNumber;&quot;,null,&quot;  /**&quot;,&quot;   * Doctor&#39;s website.&quot;,&quot;   * @type {?string}&quot;,&quot;   * @public&quot;,&quot;   */&quot;,&quot;  this.doctorWebsite = doctorWebsite || null;&quot;,&quot;};&quot;]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../dossier.js" defer></script>
<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>browser.js</title><link href="../../../../dossier.css" rel="stylesheet" type="text/css"><script src="../../../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,null,null,[&quot;browser.js&quot;,&quot;src/telemetry/context/browser.js&quot;,[null,&quot;/*&quot;,&quot; * Copyright 2018, Bloombox, LLC. All rights reserved.&quot;,&quot; *&quot;,&quot; * Source and object computer code contained herein is the private intellectual&quot;,&quot; * property of Bloombox, a California Limited Liability Corporation. Use of this&quot;,&quot; * code in source form requires permission in writing before use or the&quot;,&quot; * assembly, distribution, or publishing of derivative works, for commercial&quot;,&quot; * purposes or any other purpose, from a duly authorized officer of Momentum&quot;,&quot; * Ideas Co.&quot;,&quot; *&quot;,&quot; * Unless required by applicable law or agreed to in writing, software&quot;,&quot; * distributed under the License is distributed on an \&quot;AS IS\&quot; BASIS,&quot;,&quot; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&quot;,&quot; * See the License for the specific language governing permissions and&quot;,&quot; * limitations under the License.&quot;,&quot; */&quot;,null,&quot;/**&quot;,&quot; * Bloombox Telemetry Context: Browser&quot;,&quot; *&quot;,&quot; * @fileoverview Specifies event context related to the browser.&quot;,&quot; */&quot;,null,&quot;/*global goog */&quot;,null,&quot;goog.provide(&#39;bloombox.telemetry.buildBrowserContext&#39;);&quot;,null,&quot;goog.require(&#39;goog.userAgent&#39;);&quot;,null,&quot;goog.require(&#39;proto.bloombox.schema.analytics.context.BrowserDeviceContext&#39;);&quot;,&quot;goog.require(&#39;proto.opencannabis.structs.VersionSpec&#39;);&quot;,null,null,&quot;/**&quot;,&quot; * Build local browser context from the available environment.&quot;,&quot; *&quot;,&quot; * @return {proto.bloombox.schema.analytics.context.BrowserDeviceContext}&quot;,&quot; * @package&quot;,&quot; */&quot;,&quot;bloombox.telemetry.buildBrowserContext = function() {&quot;,&quot;  let context = (&quot;,&quot;    new proto.bloombox.schema.analytics.context.BrowserDeviceContext());&quot;,&quot;  let language = navigator.language;&quot;,&quot;  let ua = navigator.userAgent;&quot;,&quot;  context.setLanguage(language);&quot;,&quot;  context.setUserAgent(ua);&quot;,null,&quot;  if (typeof navigator.maxTouchPoints === &#39;number&#39;)&quot;,&quot;    context.setTouchpoints(navigator.maxTouchPoints);&quot;,&quot;  if (typeof navigator.hardwareConcurrency === &#39;number&#39;)&quot;,&quot;    context.setHardwareConcurrency(navigator.hardwareConcurrency);&quot;,&quot;  if (window.screen &amp;&amp; typeof window.screen.colorDepth === &#39;number&#39;)&quot;,&quot;  // set color depth&quot;,&quot;    context.setColorDepth(window.screen.colorDepth);&quot;,null,&quot;  // detect browser type and version&quot;,&quot;  let browserVersion = goog.userAgent.VERSION;&quot;,&quot;  let browserType = (&quot;,&quot;    proto.bloombox.schema.analytics.context.BrowserType.BROWSER_UNKNOWN);&quot;,&quot;  if (goog.userAgent.product.CHROME)&quot;,&quot;    browserType = (&quot;,&quot;      proto.bloombox.schema.analytics.context.BrowserType.CHROME);&quot;,&quot;  else if (goog.userAgent.product.SAFARI)&quot;,&quot;    browserType = (&quot;,&quot;      proto.bloombox.schema.analytics.context.BrowserType.SAFARI);&quot;,&quot;  else if (goog.userAgent.product.FIREFOX)&quot;,&quot;    browserType = (&quot;,&quot;      proto.bloombox.schema.analytics.context.BrowserType.FIREFOX);&quot;,&quot;  else if (goog.userAgent.product.OPERA)&quot;,&quot;    browserType = (&quot;,&quot;      proto.bloombox.schema.analytics.context.BrowserType.OPERA);&quot;,&quot;  else if (goog.userAgent.EDGE_OR_IE)&quot;,&quot;    browserType = (&quot;,&quot;      proto.bloombox.schema.analytics.context.BrowserType.IE_OR_EDGE);&quot;,&quot;  context.setBrowserType(browserType);&quot;,null,&quot;  // browser version mount&quot;,&quot;  let browserVersionObj = new proto.opencannabis.structs.VersionSpec();&quot;,&quot;  browserVersionObj.setName(browserVersion);&quot;,&quot;  context.setVersion(browserVersionObj);&quot;,&quot;  return context;&quot;,&quot;};&quot;]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../../dossier.js" defer></script>
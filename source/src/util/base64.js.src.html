<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>base64.js</title><link href="../../../dossier.css" rel="stylesheet" type="text/css"><script src="../../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,null,null,[&quot;base64.js&quot;,&quot;src/util/base64.js&quot;,[null,&quot;/*&quot;,&quot; * Copyright 2018, Bloombox, LLC.&quot;,&quot; *&quot;,&quot; * Licensed under the Apache License, Version 2.0 (the \&quot;License\&quot;);&quot;,&quot; * you may not use this file except in compliance with the License.&quot;,&quot; * You may obtain a copy of the License at&quot;,&quot; *&quot;,&quot; *     http://www.apache.org/licenses/LICENSE-2.0&quot;,&quot; *&quot;,&quot; * Unless required by applicable law or agreed to in writing, software&quot;,&quot; * distributed under the License is distributed on an \&quot;AS IS\&quot; BASIS,&quot;,&quot; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&quot;,&quot; * See the License for the specific language governing permissions and&quot;,&quot; * limitations under the License.&quot;,&quot; */&quot;,null,&quot;/**&quot;,&quot; * Bloombox Utils: Base64&quot;,&quot; *&quot;,&quot; * @fileoverview Provides tools for encoding and decoding data with Base64.&quot;,&quot; */&quot;,null,&quot;/*global goog */&quot;,null,&quot;goog.provide(&#39;bloombox.util.b64&#39;);&quot;,null,&quot;goog.require(&#39;goog.crypt.base64&#39;);&quot;,null,null,&quot;/**&quot;,&quot; * Base64 encoding function that takes string data, and base64 encodes it. By&quot;,&quot; * default, this function will not append `=` values (value 64, meaning&quot;,&quot; * `nothing`), because the matching implementation below (`decode`) used to&quot;,&quot; * convert information back uses the same behavior.&quot;,&quot; *&quot;,&quot; * Bloombox services (server-side) will also properly handle these strings. For&quot;,&quot; * perfect interop with other systems, pass `true` for the second parameter,&quot;,&quot; * `opt_dont_clean`.&quot;,&quot; *&quot;,&quot; * @param {string} data String to encode as base64.&quot;,&quot; * @param {boolean=} opt_dont_clean Optionally, do not remove `=` from the&quot;,&quot; *        output before returning. This flag prevents any modification of the&quot;,&quot; *        underlying return value at all.&quot;,&quot; * @return {string} Base64-encoded version of `data`.&quot;,&quot; */&quot;,&quot;bloombox.util.b64.encode = function(data, opt_dont_clean) {&quot;,&quot;  let encoded = goog.crypt.base64.encodeString(data, false);&quot;,&quot;  if (!opt_dont_clean) return encoded;&quot;,&quot;  return encoded.replace(/=/g, &#39;&#39;);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Base64 decoding function that takes a string, encoded as base64, and decodes&quot;,&quot; * it. By default, this function will append two `=` values (value 64, meaning&quot;,&quot; * `nothing`, if an equals sign is not present at the end of the string),&quot;,&quot; * because ranges that are not properly padded (according to the spec) will&quot;,&quot; * properly decode in that circumstance, since the underlying engine will&quot;,&quot; * normally discard extra `nothing` markers past the padding boundary.&quot;,&quot; *&quot;,&quot; * The matching encoder implementation presented by this module (`encode`) uses&quot;,&quot; * the same behavior presented here - i.e. it omits `=` values. If you want&quot;,&quot; * interoperability with non-Bloombox systems, pass `true` to `opt_dont_append`,&quot;,&quot; * but this is generally a safer operation then omitting them during encoding&quot;,&quot; * and can safely be left off all the time.&quot;,&quot; *&quot;,&quot; * @param {string} data Base64-encoded string to decode.&quot;,&quot; * @param {boolean=} opt_dont_append Optionally, do not append anything to the&quot;,&quot; *        end of the string to account for missing padding. This flag prevents&quot;,&quot; *        any modification of the input value at all.&quot;,&quot; * @return {string} String, after being decoded through Base64.&quot;,&quot; */&quot;,&quot;bloombox.util.b64.decode = function(data, opt_dont_append) {&quot;,&quot;  const paddingMissing = (data.length % 4);&quot;,&quot;  let target = !opt_dont_append ? (&quot;,&quot;    (!data.endsWith(&#39;=&#39;) &amp;&amp; (paddingMissing &gt; 0) ?&quot;,&quot;      `${data}${&#39;=&#39;.repeat(paddingMissing)}` : data)) : data;&quot;,&quot;  return goog.crypt.base64.decodeString(target, false);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Encode a string using Base64, but with the \&quot;URL-safe\&quot; variant provided by&quot;,&quot; * Google and used extensively internally by them.&quot;,&quot; *&quot;,&quot; * @param {string} data Data to encode as a websafe B64 string.&quot;,&quot; * @return {string} Websafe base64-encoded string.&quot;,&quot; */&quot;,&quot;bloombox.util.b64.encodeWebsafe = function(data) {&quot;,&quot;  return goog.crypt.base64.encodeString(data, true);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Decode a string that is encoded in Base64, but using the \&quot;URL-safe\&quot; variant&quot;,&quot; * of the alphabet.&quot;,&quot; *&quot;,&quot; * @param {string} data Web-safe base64-encoded string.&quot;,&quot; * @return {string} Decoded string.&quot;,&quot; */&quot;,&quot;bloombox.util.b64.decodeWebsafe = function(data) {&quot;,&quot;  return goog.crypt.base64.decodeString(data, true);&quot;,&quot;};&quot;]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../dossier.js" defer></script>
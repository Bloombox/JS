<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>entrypointregistry.js</title><link href="../../../../../../../../dossier.css" rel="stylesheet" type="text/css"><script src="../../../../../../../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,null,null,[&quot;entrypointregistry.js&quot;,&quot;node_modules/closure-builder/third_party/closure-library/closure/goog/debug/entrypointregistry.js&quot;,[&quot;// Copyright 2010 The Closure Library Authors. All Rights Reserved.&quot;,&quot;//&quot;,&quot;// Licensed under the Apache License, Version 2.0 (the \&quot;License\&quot;);&quot;,&quot;// you may not use this file except in compliance with the License.&quot;,&quot;// You may obtain a copy of the License at&quot;,&quot;//&quot;,&quot;//      http://www.apache.org/licenses/LICENSE-2.0&quot;,&quot;//&quot;,&quot;// Unless required by applicable law or agreed to in writing, software&quot;,&quot;// distributed under the License is distributed on an \&quot;AS-IS\&quot; BASIS,&quot;,&quot;// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&quot;,&quot;// See the License for the specific language governing permissions and&quot;,&quot;// limitations under the License.&quot;,null,&quot;/**&quot;,&quot; * @fileoverview A global registry for entry points into a program,&quot;,&quot; * so that they can be instrumented. Each module should register their&quot;,&quot; * entry points with this registry. Designed to be compiled out&quot;,&quot; * if no instrumentation is requested.&quot;,&quot; *&quot;,&quot; * Entry points may be registered before or after a call to&quot;,&quot; * goog.debug.entryPointRegistry.monitorAll. If an entry point is registered&quot;,&quot; * later, the existing monitor will instrument the new entry point.&quot;,&quot; *&quot;,&quot; * @author nicksantos@google.com (Nick Santos)&quot;,&quot; */&quot;,null,&quot;goog.provide(&#39;goog.debug.EntryPointMonitor&#39;);&quot;,&quot;goog.provide(&#39;goog.debug.entryPointRegistry&#39;);&quot;,null,&quot;goog.require(&#39;goog.asserts&#39;);&quot;,null,null,null,&quot;/**&quot;,&quot; * @interface&quot;,&quot; */&quot;,&quot;goog.debug.EntryPointMonitor = function() {};&quot;,null,null,&quot;/**&quot;,&quot; * Instruments a function.&quot;,&quot; *&quot;,&quot; * @param {!Function} fn A function to instrument.&quot;,&quot; * @return {!Function} The instrumented function.&quot;,&quot; */&quot;,&quot;goog.debug.EntryPointMonitor.prototype.wrap;&quot;,null,null,&quot;/**&quot;,&quot; * Try to remove an instrumentation wrapper created by this monitor.&quot;,&quot; * If the function passed to unwrap is not a wrapper created by this&quot;,&quot; * monitor, then we will do nothing.&quot;,&quot; *&quot;,&quot; * Notice that some wrappers may not be unwrappable. For example, if other&quot;,&quot; * monitors have applied their own wrappers, then it will be impossible to&quot;,&quot; * unwrap them because their wrappers will have captured our wrapper.&quot;,&quot; *&quot;,&quot; * So it is important that entry points are unwrapped in the reverse&quot;,&quot; * order that they were wrapped.&quot;,&quot; *&quot;,&quot; * @param {!Function} fn A function to unwrap.&quot;,&quot; * @return {!Function} The unwrapped function, or {@code fn} if it was not&quot;,&quot; *     a wrapped function created by this monitor.&quot;,&quot; */&quot;,&quot;goog.debug.EntryPointMonitor.prototype.unwrap;&quot;,null,null,&quot;/**&quot;,&quot; * An array of entry point callbacks.&quot;,&quot; * @type {!Array&lt;function(!Function)&gt;}&quot;,&quot; * @private&quot;,&quot; */&quot;,&quot;goog.debug.entryPointRegistry.refList_ = [];&quot;,null,null,&quot;/**&quot;,&quot; * Monitors that should wrap all the entry points.&quot;,&quot; * @type {!Array&lt;!goog.debug.EntryPointMonitor&gt;}&quot;,&quot; * @private&quot;,&quot; */&quot;,&quot;goog.debug.entryPointRegistry.monitors_ = [];&quot;,null,null,&quot;/**&quot;,&quot; * Whether goog.debug.entryPointRegistry.monitorAll has ever been called.&quot;,&quot; * Checking this allows the compiler to optimize out the registrations.&quot;,&quot; * @type {boolean}&quot;,&quot; * @private&quot;,&quot; */&quot;,&quot;goog.debug.entryPointRegistry.monitorsMayExist_ = false;&quot;,null,null,&quot;/**&quot;,&quot; * Register an entry point with this module.&quot;,&quot; *&quot;,&quot; * The entry point will be instrumented when a monitor is passed to&quot;,&quot; * goog.debug.entryPointRegistry.monitorAll. If this has already occurred, the&quot;,&quot; * entry point is instrumented immediately.&quot;,&quot; *&quot;,&quot; * @param {function(!Function)} callback A callback function which is called&quot;,&quot; *     with a transforming function to instrument the entry point. The callback&quot;,&quot; *     is responsible for wrapping the relevant entry point with the&quot;,&quot; *     transforming function.&quot;,&quot; */&quot;,&quot;goog.debug.entryPointRegistry.register = function(callback) {&quot;,&quot;  // Don&#39;t use push(), so that this can be compiled out.&quot;,&quot;  goog.debug.entryPointRegistry&quot;,&quot;      .refList_[goog.debug.entryPointRegistry.refList_.length] = callback;&quot;,&quot;  // If no one calls monitorAll, this can be compiled out.&quot;,&quot;  if (goog.debug.entryPointRegistry.monitorsMayExist_) {&quot;,&quot;    var monitors = goog.debug.entryPointRegistry.monitors_;&quot;,&quot;    for (var i = 0; i &lt; monitors.length; i++) {&quot;,&quot;      callback(goog.bind(monitors[i].wrap, monitors[i]));&quot;,&quot;    }&quot;,&quot;  }&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Configures a monitor to wrap all entry points.&quot;,&quot; *&quot;,&quot; * Entry points that have already been registered are immediately wrapped by&quot;,&quot; * the monitor. When an entry point is registered in the future, it will also&quot;,&quot; * be wrapped by the monitor when it is registered.&quot;,&quot; *&quot;,&quot; * @param {!goog.debug.EntryPointMonitor} monitor An entry point monitor.&quot;,&quot; */&quot;,&quot;goog.debug.entryPointRegistry.monitorAll = function(monitor) {&quot;,&quot;  goog.debug.entryPointRegistry.monitorsMayExist_ = true;&quot;,&quot;  var transformer = goog.bind(monitor.wrap, monitor);&quot;,&quot;  for (var i = 0; i &lt; goog.debug.entryPointRegistry.refList_.length; i++) {&quot;,&quot;    goog.debug.entryPointRegistry.refList_[i](transformer);&quot;,&quot;  }&quot;,&quot;  goog.debug.entryPointRegistry.monitors_.push(monitor);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Try to unmonitor all the entry points that have already been registered. If&quot;,&quot; * an entry point is registered in the future, it will not be wrapped by the&quot;,&quot; * monitor when it is registered. Note that this may fail if the entry points&quot;,&quot; * have additional wrapping.&quot;,&quot; *&quot;,&quot; * @param {!goog.debug.EntryPointMonitor} monitor The last monitor to wrap&quot;,&quot; *     the entry points.&quot;,&quot; * @throws {Error} If the monitor is not the most recently configured monitor.&quot;,&quot; */&quot;,&quot;goog.debug.entryPointRegistry.unmonitorAllIfPossible = function(monitor) {&quot;,&quot;  var monitors = goog.debug.entryPointRegistry.monitors_;&quot;,&quot;  goog.asserts.assert(&quot;,&quot;      monitor == monitors[monitors.length - 1],&quot;,&quot;      &#39;Only the most recent monitor can be unwrapped.&#39;);&quot;,&quot;  var transformer = goog.bind(monitor.unwrap, monitor);&quot;,&quot;  for (var i = 0; i &lt; goog.debug.entryPointRegistry.refList_.length; i++) {&quot;,&quot;    goog.debug.entryPointRegistry.refList_[i](transformer);&quot;,&quot;  }&quot;,&quot;  monitors.length--;&quot;,&quot;};&quot;]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../../../../../../dossier.js" defer></script>
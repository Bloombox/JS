<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>xmlhttp.js</title><link href="../../../../../../../../dossier.css" rel="stylesheet" type="text/css"><script src="../../../../../../../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,null,null,[&quot;xmlhttp.js&quot;,&quot;node_modules/closure-builder/third_party/closure-library/closure/goog/net/xmlhttp.js&quot;,[&quot;// Copyright 2006 The Closure Library Authors. All Rights Reserved.&quot;,&quot;//&quot;,&quot;// Licensed under the Apache License, Version 2.0 (the \&quot;License\&quot;);&quot;,&quot;// you may not use this file except in compliance with the License.&quot;,&quot;// You may obtain a copy of the License at&quot;,&quot;//&quot;,&quot;//      http://www.apache.org/licenses/LICENSE-2.0&quot;,&quot;//&quot;,&quot;// Unless required by applicable law or agreed to in writing, software&quot;,&quot;// distributed under the License is distributed on an \&quot;AS-IS\&quot; BASIS,&quot;,&quot;// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&quot;,&quot;// See the License for the specific language governing permissions and&quot;,&quot;// limitations under the License.&quot;,null,&quot;/**&quot;,&quot; * @fileoverview Low level handling of XMLHttpRequest.&quot;,&quot; * @author arv@google.com (Erik Arvidsson)&quot;,&quot; * @author dbk@google.com (David Barrett-Kahn)&quot;,&quot; */&quot;,null,&quot;goog.provide(&#39;goog.net.DefaultXmlHttpFactory&#39;);&quot;,&quot;goog.provide(&#39;goog.net.XmlHttp&#39;);&quot;,&quot;goog.provide(&#39;goog.net.XmlHttp.OptionType&#39;);&quot;,&quot;goog.provide(&#39;goog.net.XmlHttp.ReadyState&#39;);&quot;,&quot;goog.provide(&#39;goog.net.XmlHttpDefines&#39;);&quot;,null,&quot;goog.require(&#39;goog.asserts&#39;);&quot;,&quot;goog.require(&#39;goog.net.WrapperXmlHttpFactory&#39;);&quot;,&quot;goog.require(&#39;goog.net.XmlHttpFactory&#39;);&quot;,null,null,&quot;/**&quot;,&quot; * Static class for creating XMLHttpRequest objects.&quot;,&quot; * @return {!goog.net.XhrLike.OrNative} A new XMLHttpRequest object.&quot;,&quot; */&quot;,&quot;goog.net.XmlHttp = function() {&quot;,&quot;  return goog.net.XmlHttp.factory_.createInstance();&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * @define {boolean} Whether to assume XMLHttpRequest exists. Setting this to&quot;,&quot; *     true bypasses the ActiveX probing code.&quot;,&quot; * NOTE(ruilopes): Due to the way JSCompiler works, this define *will not* strip&quot;,&quot; * out the ActiveX probing code from binaries.  To achieve this, use&quot;,&quot; * {@code goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR} instead.&quot;,&quot; * TODO(ruilopes): Collapse both defines.&quot;,&quot; */&quot;,&quot;goog.define(&#39;goog.net.XmlHttp.ASSUME_NATIVE_XHR&#39;, false);&quot;,null,null,&quot;/** @const */&quot;,&quot;goog.net.XmlHttpDefines = {};&quot;,null,null,&quot;/**&quot;,&quot; * @define {boolean} Whether to assume XMLHttpRequest exists. Setting this to&quot;,&quot; *     true eliminates the ActiveX probing code.&quot;,&quot; */&quot;,&quot;goog.define(&#39;goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR&#39;, false);&quot;,null,null,&quot;/**&quot;,&quot; * Gets the options to use with the XMLHttpRequest objects obtained using&quot;,&quot; * the static methods.&quot;,&quot; * @return {Object} The options.&quot;,&quot; */&quot;,&quot;goog.net.XmlHttp.getOptions = function() {&quot;,&quot;  return goog.net.XmlHttp.factory_.getOptions();&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Type of options that an XmlHttp object can have.&quot;,&quot; * @enum {number}&quot;,&quot; */&quot;,&quot;goog.net.XmlHttp.OptionType = {&quot;,&quot;  /**&quot;,&quot;   * Whether a goog.nullFunction should be used to clear the onreadystatechange&quot;,&quot;   * handler instead of null.&quot;,&quot;   */&quot;,&quot;  USE_NULL_FUNCTION: 0,&quot;,null,&quot;  /**&quot;,&quot;   * NOTE(user): In IE if send() errors on a *local* request the readystate&quot;,&quot;   * is still changed to COMPLETE.  We need to ignore it and allow the&quot;,&quot;   * try/catch around send() to pick up the error.&quot;,&quot;   */&quot;,&quot;  LOCAL_REQUEST_ERROR: 1&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Status constants for XMLHTTP, matches:&quot;,&quot; * https://msdn.microsoft.com/en-us/library/ms534361(v=vs.85).aspx&quot;,&quot; * @enum {number}&quot;,&quot; */&quot;,&quot;goog.net.XmlHttp.ReadyState = {&quot;,&quot;  /**&quot;,&quot;   * Constant for when xmlhttprequest.readyState is uninitialized&quot;,&quot;   */&quot;,&quot;  UNINITIALIZED: 0,&quot;,null,&quot;  /**&quot;,&quot;   * Constant for when xmlhttprequest.readyState is loading.&quot;,&quot;   */&quot;,&quot;  LOADING: 1,&quot;,null,&quot;  /**&quot;,&quot;   * Constant for when xmlhttprequest.readyState is loaded.&quot;,&quot;   */&quot;,&quot;  LOADED: 2,&quot;,null,&quot;  /**&quot;,&quot;   * Constant for when xmlhttprequest.readyState is in an interactive state.&quot;,&quot;   */&quot;,&quot;  INTERACTIVE: 3,&quot;,null,&quot;  /**&quot;,&quot;   * Constant for when xmlhttprequest.readyState is completed&quot;,&quot;   */&quot;,&quot;  COMPLETE: 4&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * The global factory instance for creating XMLHttpRequest objects.&quot;,&quot; * @type {goog.net.XmlHttpFactory}&quot;,&quot; * @private&quot;,&quot; */&quot;,&quot;goog.net.XmlHttp.factory_;&quot;,null,null,&quot;/**&quot;,&quot; * Sets the factories for creating XMLHttpRequest objects and their options.&quot;,&quot; * @param {Function} factory The factory for XMLHttpRequest objects.&quot;,&quot; * @param {Function} optionsFactory The factory for options.&quot;,&quot; * @deprecated Use setGlobalFactory instead.&quot;,&quot; */&quot;,&quot;goog.net.XmlHttp.setFactory = function(factory, optionsFactory) {&quot;,&quot;  goog.net.XmlHttp.setGlobalFactory(&quot;,&quot;      new goog.net.WrapperXmlHttpFactory(&quot;,&quot;          goog.asserts.assert(factory), goog.asserts.assert(optionsFactory)));&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Sets the global factory object.&quot;,&quot; * @param {!goog.net.XmlHttpFactory} factory New global factory object.&quot;,&quot; */&quot;,&quot;goog.net.XmlHttp.setGlobalFactory = function(factory) {&quot;,&quot;  goog.net.XmlHttp.factory_ = factory;&quot;,&quot;};&quot;,null,null,null,&quot;/**&quot;,&quot; * Default factory to use when creating xhr objects.  You probably shouldn&#39;t be&quot;,&quot; * instantiating this directly, but rather using it via goog.net.XmlHttp.&quot;,&quot; * @extends {goog.net.XmlHttpFactory}&quot;,&quot; * @constructor&quot;,&quot; */&quot;,&quot;goog.net.DefaultXmlHttpFactory = function() {&quot;,&quot;  goog.net.XmlHttpFactory.call(this);&quot;,&quot;};&quot;,&quot;goog.inherits(goog.net.DefaultXmlHttpFactory, goog.net.XmlHttpFactory);&quot;,null,null,&quot;/** @override */&quot;,&quot;goog.net.DefaultXmlHttpFactory.prototype.createInstance = function() {&quot;,&quot;  var progId = this.getProgId_();&quot;,&quot;  if (progId) {&quot;,&quot;    return new ActiveXObject(progId);&quot;,&quot;  } else {&quot;,&quot;    return new XMLHttpRequest();&quot;,&quot;  }&quot;,&quot;};&quot;,null,null,&quot;/** @override */&quot;,&quot;goog.net.DefaultXmlHttpFactory.prototype.internalGetOptions = function() {&quot;,&quot;  var progId = this.getProgId_();&quot;,&quot;  var options = {};&quot;,&quot;  if (progId) {&quot;,&quot;    options[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] = true;&quot;,&quot;    options[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] = true;&quot;,&quot;  }&quot;,&quot;  return options;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * The ActiveX PROG ID string to use to create xhr&#39;s in IE. Lazily initialized.&quot;,&quot; * @type {string|undefined}&quot;,&quot; * @private&quot;,&quot; */&quot;,&quot;goog.net.DefaultXmlHttpFactory.prototype.ieProgId_;&quot;,null,null,&quot;/**&quot;,&quot; * Initialize the private state used by other functions.&quot;,&quot; * @return {string} The ActiveX PROG ID string to use to create xhr&#39;s in IE.&quot;,&quot; * @private&quot;,&quot; */&quot;,&quot;goog.net.DefaultXmlHttpFactory.prototype.getProgId_ = function() {&quot;,&quot;  if (goog.net.XmlHttp.ASSUME_NATIVE_XHR ||&quot;,&quot;      goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR) {&quot;,&quot;    return &#39;&#39;;&quot;,&quot;  }&quot;,null,&quot;  // The following blog post describes what PROG IDs to use to create the&quot;,&quot;  // XMLHTTP object in Internet Explorer:&quot;,&quot;  // http://blogs.msdn.com/xmlteam/archive/2006/10/23/using-the-right-version-of-msxml-in-internet-explorer.aspx&quot;,&quot;  // However we do not (yet) fully trust that this will be OK for old versions&quot;,&quot;  // of IE on Win9x so we therefore keep the last 2.&quot;,&quot;  if (!this.ieProgId_ &amp;&amp; typeof XMLHttpRequest == &#39;undefined&#39; &amp;&amp;&quot;,&quot;      typeof ActiveXObject != &#39;undefined&#39;) {&quot;,&quot;    // Candidate Active X types.&quot;,&quot;    var ACTIVE_X_IDENTS = [&quot;,&quot;      &#39;MSXML2.XMLHTTP.6.0&#39;, &#39;MSXML2.XMLHTTP.3.0&#39;, &#39;MSXML2.XMLHTTP&#39;,&quot;,&quot;      &#39;Microsoft.XMLHTTP&#39;&quot;,&quot;    ];&quot;,&quot;    for (var i = 0; i &lt; ACTIVE_X_IDENTS.length; i++) {&quot;,&quot;      var candidate = ACTIVE_X_IDENTS[i];&quot;,null,&quot;      try {&quot;,&quot;        new ActiveXObject(candidate);&quot;,&quot;        // NOTE(user): cannot assign progid and return candidate in one line&quot;,&quot;        // because JSCompiler complaings: BUG 658126&quot;,&quot;        this.ieProgId_ = candidate;&quot;,&quot;        return candidate;&quot;,&quot;      } catch (e) {&quot;,&quot;        // do nothing; try next choice&quot;,&quot;      }&quot;,&quot;    }&quot;,null,&quot;    // couldn&#39;t find any matches&quot;,&quot;    throw new Error(&quot;,&quot;        &#39;Could not create ActiveXObject. ActiveX might be disabled,&#39; +&quot;,&quot;        &#39; or MSXML might not be installed&#39;);&quot;,&quot;  }&quot;,null,&quot;  return /** @type {string} */ (this.ieProgId_);&quot;,&quot;};&quot;,null,null,&quot;// Set the global factory to an instance of the default factory.&quot;,&quot;goog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory());&quot;]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../../../../../../dossier.js" defer></script>
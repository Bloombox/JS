<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>structs.js</title><link href="../../../../../../../../dossier.css" rel="stylesheet" type="text/css"><script src="../../../../../../../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,null,null,[&quot;structs.js&quot;,&quot;node_modules/closure-builder/third_party/closure-library/closure/goog/structs/structs.js&quot;,[&quot;// Copyright 2006 The Closure Library Authors. All Rights Reserved.&quot;,&quot;//&quot;,&quot;// Licensed under the Apache License, Version 2.0 (the \&quot;License\&quot;);&quot;,&quot;// you may not use this file except in compliance with the License.&quot;,&quot;// You may obtain a copy of the License at&quot;,&quot;//&quot;,&quot;//      http://www.apache.org/licenses/LICENSE-2.0&quot;,&quot;//&quot;,&quot;// Unless required by applicable law or agreed to in writing, software&quot;,&quot;// distributed under the License is distributed on an \&quot;AS-IS\&quot; BASIS,&quot;,&quot;// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&quot;,&quot;// See the License for the specific language governing permissions and&quot;,&quot;// limitations under the License.&quot;,null,&quot;/**&quot;,&quot; * @fileoverview Generics method for collection-like classes and objects.&quot;,&quot; *&quot;,&quot; * @author arv@google.com (Erik Arvidsson)&quot;,&quot; *&quot;,&quot; * This file contains functions to work with collections. It supports using&quot;,&quot; * Map, Set, Array and Object and other classes that implement collection-like&quot;,&quot; * methods.&quot;,&quot; */&quot;,null,null,&quot;goog.provide(&#39;goog.structs&#39;);&quot;,null,&quot;goog.require(&#39;goog.array&#39;);&quot;,&quot;goog.require(&#39;goog.object&#39;);&quot;,null,null,&quot;// We treat an object as a dictionary if it has getKeys or it is an object that&quot;,&quot;// isn&#39;t arrayLike.&quot;,null,null,&quot;/**&quot;,&quot; * Returns the number of values in the collection-like object.&quot;,&quot; * @param {Object} col The collection-like object.&quot;,&quot; * @return {number} The number of values in the collection-like object.&quot;,&quot; */&quot;,&quot;goog.structs.getCount = function(col) {&quot;,&quot;  if (col.getCount &amp;&amp; typeof col.getCount == &#39;function&#39;) {&quot;,&quot;    return col.getCount();&quot;,&quot;  }&quot;,&quot;  if (goog.isArrayLike(col) || goog.isString(col)) {&quot;,&quot;    return col.length;&quot;,&quot;  }&quot;,&quot;  return goog.object.getCount(col);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Returns the values of the collection-like object.&quot;,&quot; * @param {Object} col The collection-like object.&quot;,&quot; * @return {!Array&lt;?&gt;} The values in the collection-like object.&quot;,&quot; */&quot;,&quot;goog.structs.getValues = function(col) {&quot;,&quot;  if (col.getValues &amp;&amp; typeof col.getValues == &#39;function&#39;) {&quot;,&quot;    return col.getValues();&quot;,&quot;  }&quot;,&quot;  if (goog.isString(col)) {&quot;,&quot;    return col.split(&#39;&#39;);&quot;,&quot;  }&quot;,&quot;  if (goog.isArrayLike(col)) {&quot;,&quot;    var rv = [];&quot;,&quot;    var l = col.length;&quot;,&quot;    for (var i = 0; i &lt; l; i++) {&quot;,&quot;      rv.push(col[i]);&quot;,&quot;    }&quot;,&quot;    return rv;&quot;,&quot;  }&quot;,&quot;  return goog.object.getValues(col);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Returns the keys of the collection. Some collections have no notion of&quot;,&quot; * keys/indexes and this function will return undefined in those cases.&quot;,&quot; * @param {Object} col The collection-like object.&quot;,&quot; * @return {!Array|undefined} The keys in the collection.&quot;,&quot; */&quot;,&quot;goog.structs.getKeys = function(col) {&quot;,&quot;  if (col.getKeys &amp;&amp; typeof col.getKeys == &#39;function&#39;) {&quot;,&quot;    return col.getKeys();&quot;,&quot;  }&quot;,&quot;  // if we have getValues but no getKeys we know this is a key-less collection&quot;,&quot;  if (col.getValues &amp;&amp; typeof col.getValues == &#39;function&#39;) {&quot;,&quot;    return undefined;&quot;,&quot;  }&quot;,&quot;  if (goog.isArrayLike(col) || goog.isString(col)) {&quot;,&quot;    var rv = [];&quot;,&quot;    var l = col.length;&quot;,&quot;    for (var i = 0; i &lt; l; i++) {&quot;,&quot;      rv.push(i);&quot;,&quot;    }&quot;,&quot;    return rv;&quot;,&quot;  }&quot;,null,&quot;  return goog.object.getKeys(col);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Whether the collection contains the given value. This is O(n) and uses&quot;,&quot; * equals (==) to test the existence.&quot;,&quot; * @param {Object} col The collection-like object.&quot;,&quot; * @param {*} val The value to check for.&quot;,&quot; * @return {boolean} True if the map contains the value.&quot;,&quot; */&quot;,&quot;goog.structs.contains = function(col, val) {&quot;,&quot;  if (col.contains &amp;&amp; typeof col.contains == &#39;function&#39;) {&quot;,&quot;    return col.contains(val);&quot;,&quot;  }&quot;,&quot;  if (col.containsValue &amp;&amp; typeof col.containsValue == &#39;function&#39;) {&quot;,&quot;    return col.containsValue(val);&quot;,&quot;  }&quot;,&quot;  if (goog.isArrayLike(col) || goog.isString(col)) {&quot;,&quot;    return goog.array.contains(/** @type {!Array&lt;?&gt;} */ (col), val);&quot;,&quot;  }&quot;,&quot;  return goog.object.containsValue(col, val);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Whether the collection is empty.&quot;,&quot; * @param {Object} col The collection-like object.&quot;,&quot; * @return {boolean} True if empty.&quot;,&quot; */&quot;,&quot;goog.structs.isEmpty = function(col) {&quot;,&quot;  if (col.isEmpty &amp;&amp; typeof col.isEmpty == &#39;function&#39;) {&quot;,&quot;    return col.isEmpty();&quot;,&quot;  }&quot;,null,&quot;  // We do not use goog.string.isEmptyOrWhitespace because here we treat the&quot;,&quot;  // string as&quot;,&quot;  // collection and as such even whitespace matters&quot;,null,&quot;  if (goog.isArrayLike(col) || goog.isString(col)) {&quot;,&quot;    return goog.array.isEmpty(/** @type {!Array&lt;?&gt;} */ (col));&quot;,&quot;  }&quot;,&quot;  return goog.object.isEmpty(col);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Removes all the elements from the collection.&quot;,&quot; * @param {Object} col The collection-like object.&quot;,&quot; */&quot;,&quot;goog.structs.clear = function(col) {&quot;,&quot;  // NOTE(arv): This should not contain strings because strings are immutable&quot;,&quot;  if (col.clear &amp;&amp; typeof col.clear == &#39;function&#39;) {&quot;,&quot;    col.clear();&quot;,&quot;  } else if (goog.isArrayLike(col)) {&quot;,&quot;    goog.array.clear(/** @type {IArrayLike&lt;?&gt;} */ (col));&quot;,&quot;  } else {&quot;,&quot;    goog.object.clear(col);&quot;,&quot;  }&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Calls a function for each value in a collection. The function takes&quot;,&quot; * three arguments; the value, the key and the collection.&quot;,&quot; *&quot;,&quot; * @param {S} col The collection-like object.&quot;,&quot; * @param {function(this:T,?,?,S):?} f The function to call for every value.&quot;,&quot; *     This function takes&quot;,&quot; *     3 arguments (the value, the key or undefined if the collection has no&quot;,&quot; *     notion of keys, and the collection) and the return value is irrelevant.&quot;,&quot; * @param {T=} opt_obj The object to be used as the value of &#39;this&#39;&quot;,&quot; *     within {@code f}.&quot;,&quot; * @template T,S&quot;,&quot; * @deprecated Use a more specific method, e.g. goog.array.forEach,&quot;,&quot; *     goog.object.forEach, or for-of.&quot;,&quot; */&quot;,&quot;goog.structs.forEach = function(col, f, opt_obj) {&quot;,&quot;  if (col.forEach &amp;&amp; typeof col.forEach == &#39;function&#39;) {&quot;,&quot;    col.forEach(f, opt_obj);&quot;,&quot;  } else if (goog.isArrayLike(col) || goog.isString(col)) {&quot;,&quot;    goog.array.forEach(/** @type {!Array&lt;?&gt;} */ (col), f, opt_obj);&quot;,&quot;  } else {&quot;,&quot;    var keys = goog.structs.getKeys(col);&quot;,&quot;    var values = goog.structs.getValues(col);&quot;,&quot;    var l = values.length;&quot;,&quot;    for (var i = 0; i &lt; l; i++) {&quot;,&quot;      f.call(/** @type {?} */ (opt_obj), values[i], keys &amp;&amp; keys[i], col);&quot;,&quot;    }&quot;,&quot;  }&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Calls a function for every value in the collection. When a call returns true,&quot;,&quot; * adds the value to a new collection (Array is returned by default).&quot;,&quot; *&quot;,&quot; * @param {S} col The collection-like object.&quot;,&quot; * @param {function(this:T,?,?,S):boolean} f The function to call for every&quot;,&quot; *     value. This function takes&quot;,&quot; *     3 arguments (the value, the key or undefined if the collection has no&quot;,&quot; *     notion of keys, and the collection) and should return a Boolean. If the&quot;,&quot; *     return value is true the value is added to the result collection. If it&quot;,&quot; *     is false the value is not included.&quot;,&quot; * @param {T=} opt_obj The object to be used as the value of &#39;this&#39;&quot;,&quot; *     within {@code f}.&quot;,&quot; * @return {!Object|!Array&lt;?&gt;} A new collection where the passed values are&quot;,&quot; *     present. If col is a key-less collection an array is returned.  If col&quot;,&quot; *     has keys and values a plain old JS object is returned.&quot;,&quot; * @template T,S&quot;,&quot; */&quot;,&quot;goog.structs.filter = function(col, f, opt_obj) {&quot;,&quot;  if (typeof col.filter == &#39;function&#39;) {&quot;,&quot;    return col.filter(f, opt_obj);&quot;,&quot;  }&quot;,&quot;  if (goog.isArrayLike(col) || goog.isString(col)) {&quot;,&quot;    return goog.array.filter(/** @type {!Array&lt;?&gt;} */ (col), f, opt_obj);&quot;,&quot;  }&quot;,null,&quot;  var rv;&quot;,&quot;  var keys = goog.structs.getKeys(col);&quot;,&quot;  var values = goog.structs.getValues(col);&quot;,&quot;  var l = values.length;&quot;,&quot;  if (keys) {&quot;,&quot;    rv = {};&quot;,&quot;    for (var i = 0; i &lt; l; i++) {&quot;,&quot;      if (f.call(/** @type {?} */ (opt_obj), values[i], keys[i], col)) {&quot;,&quot;        rv[keys[i]] = values[i];&quot;,&quot;      }&quot;,&quot;    }&quot;,&quot;  } else {&quot;,&quot;    // We should not use goog.array.filter here since we want to make sure that&quot;,&quot;    // the index is undefined as well as make sure that col is passed to the&quot;,&quot;    // function.&quot;,&quot;    rv = [];&quot;,&quot;    for (var i = 0; i &lt; l; i++) {&quot;,&quot;      if (f.call(opt_obj, values[i], undefined, col)) {&quot;,&quot;        rv.push(values[i]);&quot;,&quot;      }&quot;,&quot;    }&quot;,&quot;  }&quot;,&quot;  return rv;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Calls a function for every value in the collection and adds the result into a&quot;,&quot; * new collection (defaults to creating a new Array).&quot;,&quot; *&quot;,&quot; * @param {S} col The collection-like object.&quot;,&quot; * @param {function(this:T,?,?,S):V} f The function to call for every value.&quot;,&quot; *     This function takes 3 arguments (the value, the key or undefined if the&quot;,&quot; *     collection has no notion of keys, and the collection) and should return&quot;,&quot; *     something. The result will be used as the value in the new collection.&quot;,&quot; * @param {T=} opt_obj  The object to be used as the value of &#39;this&#39;&quot;,&quot; *     within {@code f}.&quot;,&quot; * @return {!Object&lt;V&gt;|!Array&lt;V&gt;} A new collection with the new values.  If&quot;,&quot; *     col is a key-less collection an array is returned.  If col has keys and&quot;,&quot; *     values a plain old JS object is returned.&quot;,&quot; * @template T,S,V&quot;,&quot; */&quot;,&quot;goog.structs.map = function(col, f, opt_obj) {&quot;,&quot;  if (typeof col.map == &#39;function&#39;) {&quot;,&quot;    return col.map(f, opt_obj);&quot;,&quot;  }&quot;,&quot;  if (goog.isArrayLike(col) || goog.isString(col)) {&quot;,&quot;    return goog.array.map(/** @type {!Array&lt;?&gt;} */ (col), f, opt_obj);&quot;,&quot;  }&quot;,null,&quot;  var rv;&quot;,&quot;  var keys = goog.structs.getKeys(col);&quot;,&quot;  var values = goog.structs.getValues(col);&quot;,&quot;  var l = values.length;&quot;,&quot;  if (keys) {&quot;,&quot;    rv = {};&quot;,&quot;    for (var i = 0; i &lt; l; i++) {&quot;,&quot;      rv[keys[i]] = f.call(/** @type {?} */ (opt_obj), values[i], keys[i], col);&quot;,&quot;    }&quot;,&quot;  } else {&quot;,&quot;    // We should not use goog.array.map here since we want to make sure that&quot;,&quot;    // the index is undefined as well as make sure that col is passed to the&quot;,&quot;    // function.&quot;,&quot;    rv = [];&quot;,&quot;    for (var i = 0; i &lt; l; i++) {&quot;,&quot;      rv[i] = f.call(/** @type {?} */ (opt_obj), values[i], undefined, col);&quot;,&quot;    }&quot;,&quot;  }&quot;,&quot;  return rv;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Calls f for each value in a collection. If any call returns true this returns&quot;,&quot; * true (without checking the rest). If all returns false this returns false.&quot;,&quot; *&quot;,&quot; * @param {S} col The collection-like object.&quot;,&quot; * @param {function(this:T,?,?,S):boolean} f The function to call for every&quot;,&quot; *     value. This function takes 3 arguments (the value, the key or undefined&quot;,&quot; *     if the collection has no notion of keys, and the collection) and should&quot;,&quot; *     return a boolean.&quot;,&quot; * @param {T=} opt_obj  The object to be used as the value of &#39;this&#39;&quot;,&quot; *     within {@code f}.&quot;,&quot; * @return {boolean} True if any value passes the test.&quot;,&quot; * @template T,S&quot;,&quot; */&quot;,&quot;goog.structs.some = function(col, f, opt_obj) {&quot;,&quot;  if (typeof col.some == &#39;function&#39;) {&quot;,&quot;    return col.some(f, opt_obj);&quot;,&quot;  }&quot;,&quot;  if (goog.isArrayLike(col) || goog.isString(col)) {&quot;,&quot;    return goog.array.some(/** @type {!Array&lt;?&gt;} */ (col), f, opt_obj);&quot;,&quot;  }&quot;,&quot;  var keys = goog.structs.getKeys(col);&quot;,&quot;  var values = goog.structs.getValues(col);&quot;,&quot;  var l = values.length;&quot;,&quot;  for (var i = 0; i &lt; l; i++) {&quot;,&quot;    if (f.call(/** @type {?} */ (opt_obj), values[i], keys &amp;&amp; keys[i], col)) {&quot;,&quot;      return true;&quot;,&quot;    }&quot;,&quot;  }&quot;,&quot;  return false;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Calls f for each value in a collection. If all calls return true this return&quot;,&quot; * true this returns true. If any returns false this returns false at this point&quot;,&quot; *  and does not continue to check the remaining values.&quot;,&quot; *&quot;,&quot; * @param {S} col The collection-like object.&quot;,&quot; * @param {function(this:T,?,?,S):boolean} f The function to call for every&quot;,&quot; *     value. This function takes 3 arguments (the value, the key or&quot;,&quot; *     undefined if the collection has no notion of keys, and the collection)&quot;,&quot; *     and should return a boolean.&quot;,&quot; * @param {T=} opt_obj  The object to be used as the value of &#39;this&#39;&quot;,&quot; *     within {@code f}.&quot;,&quot; * @return {boolean} True if all key-value pairs pass the test.&quot;,&quot; * @template T,S&quot;,&quot; */&quot;,&quot;goog.structs.every = function(col, f, opt_obj) {&quot;,&quot;  if (typeof col.every == &#39;function&#39;) {&quot;,&quot;    return col.every(f, opt_obj);&quot;,&quot;  }&quot;,&quot;  if (goog.isArrayLike(col) || goog.isString(col)) {&quot;,&quot;    return goog.array.every(/** @type {!Array&lt;?&gt;} */ (col), f, opt_obj);&quot;,&quot;  }&quot;,&quot;  var keys = goog.structs.getKeys(col);&quot;,&quot;  var values = goog.structs.getValues(col);&quot;,&quot;  var l = values.length;&quot;,&quot;  for (var i = 0; i &lt; l; i++) {&quot;,&quot;    if (!f.call(/** @type {?} */ (opt_obj), values[i], keys &amp;&amp; keys[i], col)) {&quot;,&quot;      return false;&quot;,&quot;    }&quot;,&quot;  }&quot;,&quot;  return true;&quot;,&quot;};&quot;]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../../../../../../dossier.js" defer></script>
<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>iter.js</title><link href="../../../../../../../../dossier.css" rel="stylesheet" type="text/css"><script src="../../../../../../../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,null,null,[&quot;iter.js&quot;,&quot;node_modules/closure-builder/third_party/closure-library/closure/goog/iter/iter.js&quot;,[&quot;// Copyright 2007 The Closure Library Authors. All Rights Reserved.&quot;,&quot;//&quot;,&quot;// Licensed under the Apache License, Version 2.0 (the \&quot;License\&quot;);&quot;,&quot;// you may not use this file except in compliance with the License.&quot;,&quot;// You may obtain a copy of the License at&quot;,&quot;//&quot;,&quot;//      http://www.apache.org/licenses/LICENSE-2.0&quot;,&quot;//&quot;,&quot;// Unless required by applicable law or agreed to in writing, software&quot;,&quot;// distributed under the License is distributed on an \&quot;AS-IS\&quot; BASIS,&quot;,&quot;// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&quot;,&quot;// See the License for the specific language governing permissions and&quot;,&quot;// limitations under the License.&quot;,null,&quot;/**&quot;,&quot; * @fileoverview Python style iteration utilities.&quot;,&quot; * @author arv@google.com (Erik Arvidsson)&quot;,&quot; */&quot;,null,null,&quot;goog.provide(&#39;goog.iter&#39;);&quot;,&quot;goog.provide(&#39;goog.iter.Iterable&#39;);&quot;,&quot;goog.provide(&#39;goog.iter.Iterator&#39;);&quot;,&quot;goog.provide(&#39;goog.iter.StopIteration&#39;);&quot;,null,&quot;goog.require(&#39;goog.array&#39;);&quot;,&quot;goog.require(&#39;goog.asserts&#39;);&quot;,&quot;goog.require(&#39;goog.functions&#39;);&quot;,&quot;goog.require(&#39;goog.math&#39;);&quot;,null,null,&quot;/**&quot;,&quot; * @typedef {goog.iter.Iterator|{length:number}|{__iterator__}}&quot;,&quot; */&quot;,&quot;goog.iter.Iterable;&quot;,null,null,&quot;/**&quot;,&quot; * Singleton Error object that is used to terminate iterations.&quot;,&quot; * @const {!Error}&quot;,&quot; */&quot;,&quot;goog.iter.StopIteration = (&#39;StopIteration&#39; in goog.global) ?&quot;,&quot;    // For script engines that support legacy iterators.&quot;,&quot;    goog.global[&#39;StopIteration&#39;] :&quot;,&quot;    {message: &#39;StopIteration&#39;, stack: &#39;&#39;};&quot;,null,null,null,&quot;/**&quot;,&quot; * Class/interface for iterators.  An iterator needs to implement a {@code next}&quot;,&quot; * method and it needs to throw a {@code goog.iter.StopIteration} when the&quot;,&quot; * iteration passes beyond the end.  Iterators have no {@code hasNext} method.&quot;,&quot; * It is recommended to always use the helper functions to iterate over the&quot;,&quot; * iterator or in case you are only targeting JavaScript 1.7 for in loops.&quot;,&quot; * @constructor&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.Iterator = function() {};&quot;,null,null,&quot;/**&quot;,&quot; * Returns the next value of the iteration.  This will throw the object&quot;,&quot; * {@see goog.iter#StopIteration} when the iteration passes the end.&quot;,&quot; * @return {VALUE} Any object or value.&quot;,&quot; */&quot;,&quot;goog.iter.Iterator.prototype.next = function() {&quot;,&quot;  throw goog.iter.StopIteration;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Returns the {@code Iterator} object itself.  This is used to implement&quot;,&quot; * the iterator protocol in JavaScript 1.7&quot;,&quot; * @param {boolean=} opt_keys  Whether to return the keys or values. Default is&quot;,&quot; *     to only return the values.  This is being used by the for-in loop (true)&quot;,&quot; *     and the for-each-in loop (false).  Even though the param gives a hint&quot;,&quot; *     about what the iterator will return there is no guarantee that it will&quot;,&quot; *     return the keys when true is passed.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} The object itself.&quot;,&quot; */&quot;,&quot;goog.iter.Iterator.prototype.__iterator__ = function(opt_keys) {&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Returns an iterator that knows how to iterate over the values in the object.&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable  If the&quot;,&quot; *     object is an iterator it will be returned as is.  If the object has an&quot;,&quot; *     {@code __iterator__} method that will be called to get the value&quot;,&quot; *     iterator.  If the object is an array-like object we create an iterator&quot;,&quot; *     for that.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} An iterator that knows how to iterate&quot;,&quot; *     over the values in {@code iterable}.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.toIterator = function(iterable) {&quot;,&quot;  if (iterable instanceof goog.iter.Iterator) {&quot;,&quot;    return iterable;&quot;,&quot;  }&quot;,&quot;  if (typeof iterable.__iterator__ == &#39;function&#39;) {&quot;,&quot;    return iterable.__iterator__(false);&quot;,&quot;  }&quot;,&quot;  if (goog.isArrayLike(iterable)) {&quot;,&quot;    var i = 0;&quot;,&quot;    var newIter = new goog.iter.Iterator;&quot;,&quot;    newIter.next = function() {&quot;,&quot;      while (true) {&quot;,&quot;        if (i &gt;= iterable.length) {&quot;,&quot;          throw goog.iter.StopIteration;&quot;,&quot;        }&quot;,&quot;        // Don&#39;t include deleted elements.&quot;,&quot;        if (!(i in iterable)) {&quot;,&quot;          i++;&quot;,&quot;          continue;&quot;,&quot;        }&quot;,&quot;        return iterable[i++];&quot;,&quot;      }&quot;,&quot;    };&quot;,&quot;    return newIter;&quot;,&quot;  }&quot;,null,null,&quot;  // TODO(arv): Should we fall back on goog.structs.getValues()?&quot;,&quot;  throw new Error(&#39;Not implemented&#39;);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Calls a function for each element in the iterator with the element of the&quot;,&quot; * iterator passed as argument.&quot;,&quot; *&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable  The iterator&quot;,&quot; *     to iterate over. If the iterable is an object {@code toIterator} will be&quot;,&quot; *     called on it.&quot;,&quot; * @param {function(this:THIS,VALUE,?,!goog.iter.Iterator&lt;VALUE&gt;)} f&quot;,&quot; *     The function to call for every element.  This function takes 3 arguments&quot;,&quot; *     (the element, undefined, and the iterator) and the return value is&quot;,&quot; *     irrelevant.  The reason for passing undefined as the second argument is&quot;,&quot; *     so that the same function can be used in {@see goog.array#forEach} as&quot;,&quot; *     well as others.  The third parameter is of type \&quot;number\&quot; for&quot;,&quot; *     arraylike objects, undefined, otherwise.&quot;,&quot; * @param {THIS=} opt_obj  The object to be used as the value of &#39;this&#39; within&quot;,&quot; *     {@code f}.&quot;,&quot; * @template THIS, VALUE&quot;,&quot; */&quot;,&quot;goog.iter.forEach = function(iterable, f, opt_obj) {&quot;,&quot;  if (goog.isArrayLike(iterable)) {&quot;,null,&quot;    try {&quot;,&quot;      // NOTES: this passes the index number to the second parameter&quot;,&quot;      // of the callback contrary to the documentation above.&quot;,&quot;      goog.array.forEach(&quot;,&quot;          /** @type {IArrayLike&lt;?&gt;} */ (iterable), f, opt_obj);&quot;,&quot;    } catch (ex) {&quot;,&quot;      if (ex !== goog.iter.StopIteration) {&quot;,&quot;        throw ex;&quot;,&quot;      }&quot;,&quot;    }&quot;,&quot;  } else {&quot;,&quot;    iterable = goog.iter.toIterator(iterable);&quot;,null,&quot;    try {&quot;,&quot;      while (true) {&quot;,&quot;        f.call(opt_obj, iterable.next(), undefined, iterable);&quot;,&quot;      }&quot;,&quot;    } catch (ex) {&quot;,&quot;      if (ex !== goog.iter.StopIteration) {&quot;,&quot;        throw ex;&quot;,&quot;      }&quot;,&quot;    }&quot;,&quot;  }&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Calls a function for every element in the iterator, and if the function&quot;,&quot; * returns true adds the element to a new iterator.&quot;,&quot; *&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable The iterator&quot;,&quot; *     to iterate over.&quot;,&quot; * @param {&quot;,&quot; *     function(this:THIS,VALUE,undefined,!goog.iter.Iterator&lt;VALUE&gt;):boolean} f&quot;,&quot; *     The function to call for every element. This function takes 3 arguments&quot;,&quot; *     (the element, undefined, and the iterator) and should return a boolean.&quot;,&quot; *     If the return value is true the element will be included in the returned&quot;,&quot; *     iterator.  If it is false the element is not included.&quot;,&quot; * @param {THIS=} opt_obj The object to be used as the value of &#39;this&#39; within&quot;,&quot; *     {@code f}.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} A new iterator in which only elements&quot;,&quot; *     that passed the test are present.&quot;,&quot; * @template THIS, VALUE&quot;,&quot; */&quot;,&quot;goog.iter.filter = function(iterable, f, opt_obj) {&quot;,&quot;  var iterator = goog.iter.toIterator(iterable);&quot;,&quot;  var newIter = new goog.iter.Iterator;&quot;,&quot;  newIter.next = function() {&quot;,&quot;    while (true) {&quot;,&quot;      var val = iterator.next();&quot;,&quot;      if (f.call(opt_obj, val, undefined, iterator)) {&quot;,&quot;        return val;&quot;,&quot;      }&quot;,&quot;    }&quot;,&quot;  };&quot;,&quot;  return newIter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Calls a function for every element in the iterator, and if the function&quot;,&quot; * returns false adds the element to a new iterator.&quot;,&quot; *&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable The iterator&quot;,&quot; *     to iterate over.&quot;,&quot; * @param {&quot;,&quot; *     function(this:THIS,VALUE,undefined,!goog.iter.Iterator&lt;VALUE&gt;):boolean} f&quot;,&quot; *     The function to call for every element. This function takes 3 arguments&quot;,&quot; *     (the element, undefined, and the iterator) and should return a boolean.&quot;,&quot; *     If the return value is false the element will be included in the returned&quot;,&quot; *     iterator.  If it is true the element is not included.&quot;,&quot; * @param {THIS=} opt_obj The object to be used as the value of &#39;this&#39; within&quot;,&quot; *     {@code f}.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} A new iterator in which only elements&quot;,&quot; *     that did not pass the test are present.&quot;,&quot; * @template THIS, VALUE&quot;,&quot; */&quot;,&quot;goog.iter.filterFalse = function(iterable, f, opt_obj) {&quot;,&quot;  return goog.iter.filter(iterable, goog.functions.not(f), opt_obj);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates a new iterator that returns the values in a range.  This function&quot;,&quot; * can take 1, 2 or 3 arguments:&quot;,&quot; * &lt;pre&gt;&quot;,&quot; * range(5) same as range(0, 5, 1)&quot;,&quot; * range(2, 5) same as range(2, 5, 1)&quot;,&quot; * &lt;/pre&gt;&quot;,&quot; *&quot;,&quot; * @param {number} startOrStop  The stop value if only one argument is provided.&quot;,&quot; *     The start value if 2 or more arguments are provided.  If only one&quot;,&quot; *     argument is used the start value is 0.&quot;,&quot; * @param {number=} opt_stop  The stop value.  If left out then the first&quot;,&quot; *     argument is used as the stop value.&quot;,&quot; * @param {number=} opt_step  The number to increment with between each call to&quot;,&quot; *     next.  This can be negative.&quot;,&quot; * @return {!goog.iter.Iterator&lt;number&gt;} A new iterator that returns the values&quot;,&quot; *     in the range.&quot;,&quot; */&quot;,&quot;goog.iter.range = function(startOrStop, opt_stop, opt_step) {&quot;,&quot;  var start = 0;&quot;,&quot;  var stop = startOrStop;&quot;,&quot;  var step = opt_step || 1;&quot;,&quot;  if (arguments.length &gt; 1) {&quot;,&quot;    start = startOrStop;&quot;,&quot;    stop = opt_stop;&quot;,&quot;  }&quot;,&quot;  if (step == 0) {&quot;,&quot;    throw new Error(&#39;Range step argument must not be zero&#39;);&quot;,&quot;  }&quot;,null,&quot;  var newIter = new goog.iter.Iterator;&quot;,&quot;  newIter.next = function() {&quot;,&quot;    if (step &gt; 0 &amp;&amp; start &gt;= stop || step &lt; 0 &amp;&amp; start &lt;= stop) {&quot;,&quot;      throw goog.iter.StopIteration;&quot;,&quot;    }&quot;,&quot;    var rv = start;&quot;,&quot;    start += step;&quot;,&quot;    return rv;&quot;,&quot;  };&quot;,&quot;  return newIter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Joins the values in a iterator with a delimiter.&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable The iterator&quot;,&quot; *     to get the values from.&quot;,&quot; * @param {string} deliminator  The text to put between the values.&quot;,&quot; * @return {string} The joined value string.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.join = function(iterable, deliminator) {&quot;,&quot;  return goog.iter.toArray(iterable).join(deliminator);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * For every element in the iterator call a function and return a new iterator&quot;,&quot; * with that value.&quot;,&quot; *&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterator to iterate over.&quot;,&quot; * @param {&quot;,&quot; *     function(this:THIS,VALUE,undefined,!goog.iter.Iterator&lt;VALUE&gt;):RESULT} f&quot;,&quot; *     The function to call for every element.  This function takes 3 arguments&quot;,&quot; *     (the element, undefined, and the iterator) and should return a new value.&quot;,&quot; * @param {THIS=} opt_obj The object to be used as the value of &#39;this&#39; within&quot;,&quot; *     {@code f}.&quot;,&quot; * @return {!goog.iter.Iterator&lt;RESULT&gt;} A new iterator that returns the&quot;,&quot; *     results of applying the function to each element in the original&quot;,&quot; *     iterator.&quot;,&quot; * @template THIS, VALUE, RESULT&quot;,&quot; */&quot;,&quot;goog.iter.map = function(iterable, f, opt_obj) {&quot;,&quot;  var iterator = goog.iter.toIterator(iterable);&quot;,&quot;  var newIter = new goog.iter.Iterator;&quot;,&quot;  newIter.next = function() {&quot;,&quot;    var val = iterator.next();&quot;,&quot;    return f.call(opt_obj, val, undefined, iterator);&quot;,&quot;  };&quot;,&quot;  return newIter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Passes every element of an iterator into a function and accumulates the&quot;,&quot; * result.&quot;,&quot; *&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable The iterator&quot;,&quot; *     to iterate over.&quot;,&quot; * @param {function(this:THIS,VALUE,VALUE):VALUE} f The function to call for&quot;,&quot; *     every element. This function takes 2 arguments (the function&#39;s previous&quot;,&quot; *     result or the initial value, and the value of the current element).&quot;,&quot; *     function(previousValue, currentElement) : newValue.&quot;,&quot; * @param {VALUE} val The initial value to pass into the function on the first&quot;,&quot; *     call.&quot;,&quot; * @param {THIS=} opt_obj  The object to be used as the value of &#39;this&#39; within&quot;,&quot; *     f.&quot;,&quot; * @return {VALUE} Result of evaluating f repeatedly across the values of&quot;,&quot; *     the iterator.&quot;,&quot; * @template THIS, VALUE&quot;,&quot; */&quot;,&quot;goog.iter.reduce = function(iterable, f, val, opt_obj) {&quot;,&quot;  var rval = val;&quot;,&quot;  goog.iter.forEach(&quot;,&quot;      iterable, function(val) { rval = f.call(opt_obj, rval, val); });&quot;,&quot;  return rval;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Goes through the values in the iterator. Calls f for each of these, and if&quot;,&quot; * any of them returns true, this returns true (without checking the rest). If&quot;,&quot; * all return false this will return false.&quot;,&quot; *&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable The iterator&quot;,&quot; *     object.&quot;,&quot; * @param {&quot;,&quot; *     function(this:THIS,VALUE,undefined,!goog.iter.Iterator&lt;VALUE&gt;):boolean} f&quot;,&quot; *     The function to call for every value. This function takes 3 arguments&quot;,&quot; *     (the value, undefined, and the iterator) and should return a boolean.&quot;,&quot; * @param {THIS=} opt_obj The object to be used as the value of &#39;this&#39; within&quot;,&quot; *     {@code f}.&quot;,&quot; * @return {boolean} true if any value passes the test.&quot;,&quot; * @template THIS, VALUE&quot;,&quot; */&quot;,&quot;goog.iter.some = function(iterable, f, opt_obj) {&quot;,&quot;  iterable = goog.iter.toIterator(iterable);&quot;,null,&quot;  try {&quot;,&quot;    while (true) {&quot;,&quot;      if (f.call(opt_obj, iterable.next(), undefined, iterable)) {&quot;,&quot;        return true;&quot;,&quot;      }&quot;,&quot;    }&quot;,&quot;  } catch (ex) {&quot;,&quot;    if (ex !== goog.iter.StopIteration) {&quot;,&quot;      throw ex;&quot;,&quot;    }&quot;,&quot;  }&quot;,&quot;  return false;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Goes through the values in the iterator. Calls f for each of these and if any&quot;,&quot; * of them returns false this returns false (without checking the rest). If all&quot;,&quot; * return true this will return true.&quot;,&quot; *&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable The iterator&quot;,&quot; *     object.&quot;,&quot; * @param {&quot;,&quot; *     function(this:THIS,VALUE,undefined,!goog.iter.Iterator&lt;VALUE&gt;):boolean} f&quot;,&quot; *     The function to call for every value. This function takes 3 arguments&quot;,&quot; *     (the value, undefined, and the iterator) and should return a boolean.&quot;,&quot; * @param {THIS=} opt_obj The object to be used as the value of &#39;this&#39; within&quot;,&quot; *     {@code f}.&quot;,&quot; * @return {boolean} true if every value passes the test.&quot;,&quot; * @template THIS, VALUE&quot;,&quot; */&quot;,&quot;goog.iter.every = function(iterable, f, opt_obj) {&quot;,&quot;  iterable = goog.iter.toIterator(iterable);&quot;,null,&quot;  try {&quot;,&quot;    while (true) {&quot;,&quot;      if (!f.call(opt_obj, iterable.next(), undefined, iterable)) {&quot;,&quot;        return false;&quot;,&quot;      }&quot;,&quot;    }&quot;,&quot;  } catch (ex) {&quot;,&quot;    if (ex !== goog.iter.StopIteration) {&quot;,&quot;      throw ex;&quot;,&quot;    }&quot;,&quot;  }&quot;,&quot;  return true;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Takes zero or more iterables and returns one iterator that will iterate over&quot;,&quot; * them in the order chained.&quot;,&quot; * @param {...!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} var_args Any&quot;,&quot; *     number of iterable objects.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} Returns a new iterator that will&quot;,&quot; *     iterate over all the given iterables&#39; contents.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.chain = function(var_args) {&quot;,&quot;  return goog.iter.chainFromIterable(arguments);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Takes a single iterable containing zero or more iterables and returns one&quot;,&quot; * iterator that will iterate over each one in the order given.&quot;,&quot; * @see https://goo.gl/5NRp5d&quot;,&quot; * @param {goog.iter.Iterable} iterable The iterable of iterables to chain.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} Returns a new iterator that will&quot;,&quot; *     iterate over all the contents of the iterables contained within&quot;,&quot; *     {@code iterable}.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.chainFromIterable = function(iterable) {&quot;,&quot;  var iterator = goog.iter.toIterator(iterable);&quot;,&quot;  var iter = new goog.iter.Iterator();&quot;,&quot;  var current = null;&quot;,null,&quot;  iter.next = function() {&quot;,&quot;    while (true) {&quot;,&quot;      if (current == null) {&quot;,&quot;        var it = iterator.next();&quot;,&quot;        current = goog.iter.toIterator(it);&quot;,&quot;      }&quot;,&quot;      try {&quot;,&quot;        return current.next();&quot;,&quot;      } catch (ex) {&quot;,&quot;        if (ex !== goog.iter.StopIteration) {&quot;,&quot;          throw ex;&quot;,&quot;        }&quot;,&quot;        current = null;&quot;,&quot;      }&quot;,&quot;    }&quot;,&quot;  };&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Builds a new iterator that iterates over the original, but skips elements as&quot;,&quot; * long as a supplied function returns true.&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable The iterator&quot;,&quot; *     object.&quot;,&quot; * @param {&quot;,&quot; *     function(this:THIS,VALUE,undefined,!goog.iter.Iterator&lt;VALUE&gt;):boolean} f&quot;,&quot; *     The function to call for every value. This function takes 3 arguments&quot;,&quot; *     (the value, undefined, and the iterator) and should return a boolean.&quot;,&quot; * @param {THIS=} opt_obj The object to be used as the value of &#39;this&#39; within&quot;,&quot; *     {@code f}.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} A new iterator that drops elements from&quot;,&quot; *     the original iterator as long as {@code f} is true.&quot;,&quot; * @template THIS, VALUE&quot;,&quot; */&quot;,&quot;goog.iter.dropWhile = function(iterable, f, opt_obj) {&quot;,&quot;  var iterator = goog.iter.toIterator(iterable);&quot;,&quot;  var newIter = new goog.iter.Iterator;&quot;,&quot;  var dropping = true;&quot;,&quot;  newIter.next = function() {&quot;,&quot;    while (true) {&quot;,&quot;      var val = iterator.next();&quot;,&quot;      if (dropping &amp;&amp; f.call(opt_obj, val, undefined, iterator)) {&quot;,&quot;        continue;&quot;,&quot;      } else {&quot;,&quot;        dropping = false;&quot;,&quot;      }&quot;,&quot;      return val;&quot;,&quot;    }&quot;,&quot;  };&quot;,&quot;  return newIter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Builds a new iterator that iterates over the original, but only as long as a&quot;,&quot; * supplied function returns true.&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable The iterator&quot;,&quot; *     object.&quot;,&quot; * @param {&quot;,&quot; *     function(this:THIS,VALUE,undefined,!goog.iter.Iterator&lt;VALUE&gt;):boolean} f&quot;,&quot; *     The function to call for every value. This function takes 3 arguments&quot;,&quot; *     (the value, undefined, and the iterator) and should return a boolean.&quot;,&quot; * @param {THIS=} opt_obj This is used as the &#39;this&#39; object in f when called.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} A new iterator that keeps elements in&quot;,&quot; *     the original iterator as long as the function is true.&quot;,&quot; * @template THIS, VALUE&quot;,&quot; */&quot;,&quot;goog.iter.takeWhile = function(iterable, f, opt_obj) {&quot;,&quot;  var iterator = goog.iter.toIterator(iterable);&quot;,&quot;  var iter = new goog.iter.Iterator();&quot;,&quot;  iter.next = function() {&quot;,&quot;    var val = iterator.next();&quot;,&quot;    if (f.call(opt_obj, val, undefined, iterator)) {&quot;,&quot;      return val;&quot;,&quot;    }&quot;,&quot;    throw goog.iter.StopIteration;&quot;,&quot;  };&quot;,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Converts the iterator to an array&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable The iterator&quot;,&quot; *     to convert to an array.&quot;,&quot; * @return {!Array&lt;VALUE&gt;} An array of the elements the iterator iterates over.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.toArray = function(iterable) {&quot;,&quot;  // Fast path for array-like.&quot;,&quot;  if (goog.isArrayLike(iterable)) {&quot;,&quot;    return goog.array.toArray(/** @type {!IArrayLike&lt;?&gt;} */ (iterable));&quot;,&quot;  }&quot;,&quot;  iterable = goog.iter.toIterator(iterable);&quot;,&quot;  var array = [];&quot;,&quot;  goog.iter.forEach(iterable, function(val) { array.push(val); });&quot;,&quot;  return array;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Iterates over two iterables and returns true if they contain the same&quot;,&quot; * sequence of elements and have the same length.&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable1 The first&quot;,&quot; *     iterable object.&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable2 The second&quot;,&quot; *     iterable object.&quot;,&quot; * @param {function(VALUE,VALUE):boolean=} opt_equalsFn Optional comparison&quot;,&quot; *     function.&quot;,&quot; *     Should take two arguments to compare, and return true if the arguments&quot;,&quot; *     are equal. Defaults to {@link goog.array.defaultCompareEquality} which&quot;,&quot; *     compares the elements using the built-in &#39;===&#39; operator.&quot;,&quot; * @return {boolean} true if the iterables contain the same sequence of elements&quot;,&quot; *     and have the same length.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.equals = function(iterable1, iterable2, opt_equalsFn) {&quot;,&quot;  var fillValue = {};&quot;,&quot;  var pairs = goog.iter.zipLongest(fillValue, iterable1, iterable2);&quot;,&quot;  var equalsFn = opt_equalsFn || goog.array.defaultCompareEquality;&quot;,&quot;  return goog.iter.every(&quot;,&quot;      pairs, function(pair) { return equalsFn(pair[0], pair[1]); });&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Advances the iterator to the next position, returning the given default value&quot;,&quot; * instead of throwing an exception if the iterator has no more entries.&quot;,&quot; * @param {goog.iter.Iterator&lt;VALUE&gt;|goog.iter.Iterable} iterable The iterable&quot;,&quot; *     object.&quot;,&quot; * @param {VALUE} defaultValue The value to return if the iterator is empty.&quot;,&quot; * @return {VALUE} The next item in the iteration, or defaultValue if the&quot;,&quot; *     iterator was empty.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.nextOrValue = function(iterable, defaultValue) {&quot;,&quot;  try {&quot;,&quot;    return goog.iter.toIterator(iterable).next();&quot;,&quot;  } catch (e) {&quot;,&quot;    if (e != goog.iter.StopIteration) {&quot;,&quot;      throw e;&quot;,&quot;    }&quot;,&quot;    return defaultValue;&quot;,&quot;  }&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Cartesian product of zero or more sets.  Gives an iterator that gives every&quot;,&quot; * combination of one element chosen from each set.  For example,&quot;,&quot; * ([1, 2], [3, 4]) gives ([1, 3], [1, 4], [2, 3], [2, 4]).&quot;,&quot; * @see http://docs.python.org/library/itertools.html#itertools.product&quot;,&quot; * @param {...!IArrayLike&lt;VALUE&gt;} var_args Zero or more sets, as&quot;,&quot; *     arrays.&quot;,&quot; * @return {!goog.iter.Iterator&lt;!Array&lt;VALUE&gt;&gt;} An iterator that gives each&quot;,&quot; *     n-tuple (as an array).&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.product = function(var_args) {&quot;,&quot;  var someArrayEmpty =&quot;,&quot;      goog.array.some(arguments, function(arr) { return !arr.length; });&quot;,null,&quot;  // An empty set in a cartesian product gives an empty set.&quot;,&quot;  if (someArrayEmpty || !arguments.length) {&quot;,&quot;    return new goog.iter.Iterator();&quot;,&quot;  }&quot;,null,&quot;  var iter = new goog.iter.Iterator();&quot;,&quot;  var arrays = arguments;&quot;,null,&quot;  // The first indices are [0, 0, ...]&quot;,&quot;  var indicies = goog.array.repeat(0, arrays.length);&quot;,null,&quot;  iter.next = function() {&quot;,null,&quot;    if (indicies) {&quot;,&quot;      var retVal = goog.array.map(indicies, function(valueIndex, arrayIndex) {&quot;,&quot;        return arrays[arrayIndex][valueIndex];&quot;,&quot;      });&quot;,null,&quot;      // Generate the next-largest indices for the next call.&quot;,&quot;      // Increase the rightmost index. If it goes over, increase the next&quot;,&quot;      // rightmost (like carry-over addition).&quot;,&quot;      for (var i = indicies.length - 1; i &gt;= 0; i--) {&quot;,&quot;        // Assertion prevents compiler warning below.&quot;,&quot;        goog.asserts.assert(indicies);&quot;,&quot;        if (indicies[i] &lt; arrays[i].length - 1) {&quot;,&quot;          indicies[i]++;&quot;,&quot;          break;&quot;,&quot;        }&quot;,null,&quot;        // We&#39;re at the last indices (the last element of every array), so&quot;,&quot;        // the iteration is over on the next call.&quot;,&quot;        if (i == 0) {&quot;,&quot;          indicies = null;&quot;,&quot;          break;&quot;,&quot;        }&quot;,&quot;        // Reset the index in this column and loop back to increment the&quot;,&quot;        // next one.&quot;,&quot;        indicies[i] = 0;&quot;,&quot;      }&quot;,&quot;      return retVal;&quot;,&quot;    }&quot;,null,&quot;    throw goog.iter.StopIteration;&quot;,&quot;  };&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Create an iterator to cycle over the iterable&#39;s elements indefinitely.&quot;,&quot; * For example, ([1, 2, 3]) would return : 1, 2, 3, 1, 2, 3, ...&quot;,&quot; * @see: http://docs.python.org/library/itertools.html#itertools.cycle.&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable object.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} An iterator that iterates indefinitely&quot;,&quot; *     over the values in {@code iterable}.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.cycle = function(iterable) {&quot;,&quot;  var baseIterator = goog.iter.toIterator(iterable);&quot;,null,&quot;  // We maintain a cache to store the iterable elements as we iterate&quot;,&quot;  // over them. The cache is used to return elements once we have&quot;,&quot;  // iterated over the iterable once.&quot;,&quot;  var cache = [];&quot;,&quot;  var cacheIndex = 0;&quot;,null,&quot;  var iter = new goog.iter.Iterator();&quot;,null,&quot;  // This flag is set after the iterable is iterated over once&quot;,&quot;  var useCache = false;&quot;,null,&quot;  iter.next = function() {&quot;,&quot;    var returnElement = null;&quot;,null,&quot;    // Pull elements off the original iterator if not using cache&quot;,&quot;    if (!useCache) {&quot;,&quot;      try {&quot;,&quot;        // Return the element from the iterable&quot;,&quot;        returnElement = baseIterator.next();&quot;,&quot;        cache.push(returnElement);&quot;,&quot;        return returnElement;&quot;,&quot;      } catch (e) {&quot;,&quot;        // If an exception other than StopIteration is thrown&quot;,&quot;        // or if there are no elements to iterate over (the iterable was empty)&quot;,&quot;        // throw an exception&quot;,&quot;        if (e != goog.iter.StopIteration || goog.array.isEmpty(cache)) {&quot;,&quot;          throw e;&quot;,&quot;        }&quot;,&quot;        // set useCache to true after we know that a &#39;StopIteration&#39; exception&quot;,&quot;        // was thrown and the cache is not empty (to handle the &#39;empty iterable&#39;&quot;,&quot;        // use case)&quot;,&quot;        useCache = true;&quot;,&quot;      }&quot;,&quot;    }&quot;,null,&quot;    returnElement = cache[cacheIndex];&quot;,&quot;    cacheIndex = (cacheIndex + 1) % cache.length;&quot;,null,&quot;    return returnElement;&quot;,&quot;  };&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that counts indefinitely from a starting value.&quot;,&quot; * @see http://docs.python.org/2/library/itertools.html#itertools.count&quot;,&quot; * @param {number=} opt_start The starting value. Default is 0.&quot;,&quot; * @param {number=} opt_step The number to increment with between each call to&quot;,&quot; *     next. Negative and floating point numbers are allowed. Default is 1.&quot;,&quot; * @return {!goog.iter.Iterator&lt;number&gt;} A new iterator that returns the values&quot;,&quot; *     in the series.&quot;,&quot; */&quot;,&quot;goog.iter.count = function(opt_start, opt_step) {&quot;,&quot;  var counter = opt_start || 0;&quot;,&quot;  var step = goog.isDef(opt_step) ? opt_step : 1;&quot;,&quot;  var iter = new goog.iter.Iterator();&quot;,null,&quot;  iter.next = function() {&quot;,&quot;    var returnValue = counter;&quot;,&quot;    counter += step;&quot;,&quot;    return returnValue;&quot;,&quot;  };&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that returns the same object or value repeatedly.&quot;,&quot; * @param {VALUE} value Any object or value to repeat.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} A new iterator that returns the&quot;,&quot; *     repeated value.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.repeat = function(value) {&quot;,&quot;  var iter = new goog.iter.Iterator();&quot;,null,&quot;  iter.next = goog.functions.constant(value);&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that returns running totals from the numbers in&quot;,&quot; * {@code iterable}. For example, the array {@code [1, 2, 3, 4, 5]} yields&quot;,&quot; * {@code 1 -&gt; 3 -&gt; 6 -&gt; 10 -&gt; 15}.&quot;,&quot; * @see http://docs.python.org/3.2/library/itertools.html#itertools.accumulate&quot;,&quot; * @param {!goog.iter.Iterable} iterable The iterable of numbers to&quot;,&quot; *     accumulate.&quot;,&quot; * @return {!goog.iter.Iterator&lt;number&gt;} A new iterator that returns the&quot;,&quot; *     numbers in the series.&quot;,&quot; */&quot;,&quot;goog.iter.accumulate = function(iterable) {&quot;,&quot;  var iterator = goog.iter.toIterator(iterable);&quot;,&quot;  var total = 0;&quot;,&quot;  var iter = new goog.iter.Iterator();&quot;,null,&quot;  iter.next = function() {&quot;,&quot;    total += iterator.next();&quot;,&quot;    return total;&quot;,&quot;  };&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that returns arrays containing the ith elements from the&quot;,&quot; * provided iterables. The returned arrays will be the same size as the number&quot;,&quot; * of iterables given in {@code var_args}. Once the shortest iterable is&quot;,&quot; * exhausted, subsequent calls to {@code next()} will throw&quot;,&quot; * {@code goog.iter.StopIteration}.&quot;,&quot; * @see http://docs.python.org/2/library/itertools.html#itertools.izip&quot;,&quot; * @param {...!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} var_args Any&quot;,&quot; *     number of iterable objects.&quot;,&quot; * @return {!goog.iter.Iterator&lt;!Array&lt;VALUE&gt;&gt;} A new iterator that returns&quot;,&quot; *     arrays of elements from the provided iterables.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.zip = function(var_args) {&quot;,&quot;  var args = arguments;&quot;,&quot;  var iter = new goog.iter.Iterator();&quot;,null,&quot;  if (args.length &gt; 0) {&quot;,&quot;    var iterators = goog.array.map(args, goog.iter.toIterator);&quot;,&quot;    iter.next = function() {&quot;,&quot;      var arr = goog.array.map(iterators, function(it) { return it.next(); });&quot;,&quot;      return arr;&quot;,&quot;    };&quot;,&quot;  }&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that returns arrays containing the ith elements from the&quot;,&quot; * provided iterables. The returned arrays will be the same size as the number&quot;,&quot; * of iterables given in {@code var_args}. Shorter iterables will be extended&quot;,&quot; * with {@code fillValue}. Once the longest iterable is exhausted, subsequent&quot;,&quot; * calls to {@code next()} will throw {@code goog.iter.StopIteration}.&quot;,&quot; * @see http://docs.python.org/2/library/itertools.html#itertools.izip_longest&quot;,&quot; * @param {VALUE} fillValue The object or value used to fill shorter iterables.&quot;,&quot; * @param {...!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} var_args Any&quot;,&quot; *     number of iterable objects.&quot;,&quot; * @return {!goog.iter.Iterator&lt;!Array&lt;VALUE&gt;&gt;} A new iterator that returns&quot;,&quot; *     arrays of elements from the provided iterables.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.zipLongest = function(fillValue, var_args) {&quot;,&quot;  var args = goog.array.slice(arguments, 1);&quot;,&quot;  var iter = new goog.iter.Iterator();&quot;,null,&quot;  if (args.length &gt; 0) {&quot;,&quot;    var iterators = goog.array.map(args, goog.iter.toIterator);&quot;,null,&quot;    iter.next = function() {&quot;,&quot;      var iteratorsHaveValues = false;  // false when all iterators are empty.&quot;,&quot;      var arr = goog.array.map(iterators, function(it) {&quot;,&quot;        var returnValue;&quot;,&quot;        try {&quot;,&quot;          returnValue = it.next();&quot;,&quot;          // Iterator had a value, so we&#39;ve not exhausted the iterators.&quot;,&quot;          // Set flag accordingly.&quot;,&quot;          iteratorsHaveValues = true;&quot;,&quot;        } catch (ex) {&quot;,&quot;          if (ex !== goog.iter.StopIteration) {&quot;,&quot;            throw ex;&quot;,&quot;          }&quot;,&quot;          returnValue = fillValue;&quot;,&quot;        }&quot;,&quot;        return returnValue;&quot;,&quot;      });&quot;,null,&quot;      if (!iteratorsHaveValues) {&quot;,&quot;        throw goog.iter.StopIteration;&quot;,&quot;      }&quot;,&quot;      return arr;&quot;,&quot;    };&quot;,&quot;  }&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that filters {@code iterable} based on a series of&quot;,&quot; * {@code selectors}. On each call to {@code next()}, one item is taken from&quot;,&quot; * both the {@code iterable} and {@code selectors} iterators. If the item from&quot;,&quot; * {@code selectors} evaluates to true, the item from {@code iterable} is given.&quot;,&quot; * Otherwise, it is skipped. Once either {@code iterable} or {@code selectors}&quot;,&quot; * is exhausted, subsequent calls to {@code next()} will throw&quot;,&quot; * {@code goog.iter.StopIteration}.&quot;,&quot; * @see http://docs.python.org/2/library/itertools.html#itertools.compress&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable to filter.&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} selectors An&quot;,&quot; *     iterable of items to be evaluated in a boolean context to determine if&quot;,&quot; *     the corresponding element in {@code iterable} should be included in the&quot;,&quot; *     result.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} A new iterator that returns the&quot;,&quot; *     filtered values.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.compress = function(iterable, selectors) {&quot;,&quot;  var selectorIterator = goog.iter.toIterator(selectors);&quot;,null,&quot;  return goog.iter.filter(&quot;,&quot;      iterable, function() { return !!selectorIterator.next(); });&quot;,&quot;};&quot;,null,null,null,&quot;/**&quot;,&quot; * Implements the {@code goog.iter.groupBy} iterator.&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable to group.&quot;,&quot; * @param {function(VALUE): KEY=} opt_keyFunc  Optional function for&quot;,&quot; *     determining the key value for each group in the {@code iterable}. Default&quot;,&quot; *     is the identity function.&quot;,&quot; * @constructor&quot;,&quot; * @extends {goog.iter.Iterator&lt;!Array&lt;?&gt;&gt;}&quot;,&quot; * @template KEY, VALUE&quot;,&quot; * @private&quot;,&quot; */&quot;,&quot;goog.iter.GroupByIterator_ = function(iterable, opt_keyFunc) {&quot;,null,&quot;  /**&quot;,&quot;   * The iterable to group, coerced to an iterator.&quot;,&quot;   * @type {!goog.iter.Iterator}&quot;,&quot;   */&quot;,&quot;  this.iterator = goog.iter.toIterator(iterable);&quot;,null,&quot;  /**&quot;,&quot;   * A function for determining the key value for each element in the iterable.&quot;,&quot;   * If no function is provided, the identity function is used and returns the&quot;,&quot;   * element unchanged.&quot;,&quot;   * @type {function(VALUE): KEY}&quot;,&quot;   */&quot;,&quot;  this.keyFunc = opt_keyFunc || goog.functions.identity;&quot;,null,&quot;  /**&quot;,&quot;   * The target key for determining the start of a group.&quot;,&quot;   * @type {KEY}&quot;,&quot;   */&quot;,&quot;  this.targetKey;&quot;,null,&quot;  /**&quot;,&quot;   * The current key visited during iteration.&quot;,&quot;   * @type {KEY}&quot;,&quot;   */&quot;,&quot;  this.currentKey;&quot;,null,&quot;  /**&quot;,&quot;   * The current value being added to the group.&quot;,&quot;   * @type {VALUE}&quot;,&quot;   */&quot;,&quot;  this.currentValue;&quot;,&quot;};&quot;,&quot;goog.inherits(goog.iter.GroupByIterator_, goog.iter.Iterator);&quot;,null,null,&quot;/** @override */&quot;,&quot;goog.iter.GroupByIterator_.prototype.next = function() {&quot;,&quot;  while (this.currentKey == this.targetKey) {&quot;,&quot;    this.currentValue = this.iterator.next();  // Exits on StopIteration&quot;,&quot;    this.currentKey = this.keyFunc(this.currentValue);&quot;,&quot;  }&quot;,&quot;  this.targetKey = this.currentKey;&quot;,&quot;  return [this.currentKey, this.groupItems_(this.targetKey)];&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Performs the grouping of objects using the given key.&quot;,&quot; * @param {KEY} targetKey  The target key object for the group.&quot;,&quot; * @return {!Array&lt;VALUE&gt;} An array of grouped objects.&quot;,&quot; * @private&quot;,&quot; */&quot;,&quot;goog.iter.GroupByIterator_.prototype.groupItems_ = function(targetKey) {&quot;,&quot;  var arr = [];&quot;,&quot;  while (this.currentKey == targetKey) {&quot;,&quot;    arr.push(this.currentValue);&quot;,&quot;    try {&quot;,&quot;      this.currentValue = this.iterator.next();&quot;,&quot;    } catch (ex) {&quot;,&quot;      if (ex !== goog.iter.StopIteration) {&quot;,&quot;        throw ex;&quot;,&quot;      }&quot;,&quot;      break;&quot;,&quot;    }&quot;,&quot;    this.currentKey = this.keyFunc(this.currentValue);&quot;,&quot;  }&quot;,&quot;  return arr;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that returns arrays containing elements from the&quot;,&quot; * {@code iterable} grouped by a key value. For iterables with repeated&quot;,&quot; * elements (i.e. sorted according to a particular key function), this function&quot;,&quot; * has a {@code uniq}-like effect. For example, grouping the array:&quot;,&quot; * {@code [A, B, B, C, C, A]} produces&quot;,&quot; * {@code [A, [A]], [B, [B, B]], [C, [C, C]], [A, [A]]}.&quot;,&quot; * @see http://docs.python.org/2/library/itertools.html#itertools.groupby&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable to group.&quot;,&quot; * @param {function(VALUE): KEY=} opt_keyFunc  Optional function for&quot;,&quot; *     determining the key value for each group in the {@code iterable}. Default&quot;,&quot; *     is the identity function.&quot;,&quot; * @return {!goog.iter.Iterator&lt;!Array&lt;?&gt;&gt;} A new iterator that returns&quot;,&quot; *     arrays of consecutive key and groups.&quot;,&quot; * @template KEY, VALUE&quot;,&quot; */&quot;,&quot;goog.iter.groupBy = function(iterable, opt_keyFunc) {&quot;,&quot;  return new goog.iter.GroupByIterator_(iterable, opt_keyFunc);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Gives an iterator that gives the result of calling the given function&quot;,&quot; * &lt;code&gt;f&lt;/code&gt; with the arguments taken from the next element from&quot;,&quot; * &lt;code&gt;iterable&lt;/code&gt; (the elements are expected to also be iterables).&quot;,&quot; *&quot;,&quot; * Similar to {@see goog.iter#map} but allows the function to accept multiple&quot;,&quot; * arguments from the iterable.&quot;,&quot; *&quot;,&quot; * @param {!goog.iter.Iterable} iterable The iterable of&quot;,&quot; *     iterables to iterate over.&quot;,&quot; * @param {function(this:THIS,...*):RESULT} f The function to call for every&quot;,&quot; *     element.  This function takes N+2 arguments, where N represents the&quot;,&quot; *     number of items from the next element of the iterable. The two&quot;,&quot; *     additional arguments passed to the function are undefined and the&quot;,&quot; *     iterator itself. The function should return a new value.&quot;,&quot; * @param {THIS=} opt_obj The object to be used as the value of &#39;this&#39; within&quot;,&quot; *     {@code f}.&quot;,&quot; * @return {!goog.iter.Iterator&lt;RESULT&gt;} A new iterator that returns the&quot;,&quot; *     results of applying the function to each element in the original&quot;,&quot; *     iterator.&quot;,&quot; * @template THIS, RESULT&quot;,&quot; */&quot;,&quot;goog.iter.starMap = function(iterable, f, opt_obj) {&quot;,&quot;  var iterator = goog.iter.toIterator(iterable);&quot;,&quot;  var iter = new goog.iter.Iterator();&quot;,null,&quot;  iter.next = function() {&quot;,&quot;    var args = goog.iter.toArray(iterator.next());&quot;,&quot;    return f.apply(opt_obj, goog.array.concat(args, undefined, iterator));&quot;,&quot;  };&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Returns an array of iterators each of which can iterate over the values in&quot;,&quot; * {@code iterable} without advancing the others.&quot;,&quot; * @see http://docs.python.org/2/library/itertools.html#itertools.tee&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable to tee.&quot;,&quot; * @param {number=} opt_num  The number of iterators to create. Default is 2.&quot;,&quot; * @return {!Array&lt;goog.iter.Iterator&lt;VALUE&gt;&gt;} An array of iterators.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.tee = function(iterable, opt_num) {&quot;,&quot;  var iterator = goog.iter.toIterator(iterable);&quot;,&quot;  var num = goog.isNumber(opt_num) ? opt_num : 2;&quot;,&quot;  var buffers =&quot;,&quot;      goog.array.map(goog.array.range(num), function() { return []; });&quot;,null,&quot;  var addNextIteratorValueToBuffers = function() {&quot;,&quot;    var val = iterator.next();&quot;,&quot;    goog.array.forEach(buffers, function(buffer) { buffer.push(val); });&quot;,&quot;  };&quot;,null,&quot;  var createIterator = function(buffer) {&quot;,&quot;    // Each tee&#39;d iterator has an associated buffer (initially empty). When a&quot;,&quot;    // tee&#39;d iterator&#39;s buffer is empty, it calls&quot;,&quot;    // addNextIteratorValueToBuffers(), adding the next value to all tee&#39;d&quot;,&quot;    // iterators&#39; buffers, and then returns that value. This allows each&quot;,&quot;    // iterator to be advanced independently.&quot;,&quot;    var iter = new goog.iter.Iterator();&quot;,null,&quot;    iter.next = function() {&quot;,&quot;      if (goog.array.isEmpty(buffer)) {&quot;,&quot;        addNextIteratorValueToBuffers();&quot;,&quot;      }&quot;,&quot;      goog.asserts.assert(!goog.array.isEmpty(buffer));&quot;,&quot;      return buffer.shift();&quot;,&quot;    };&quot;,null,&quot;    return iter;&quot;,&quot;  };&quot;,null,&quot;  return goog.array.map(buffers, createIterator);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that returns arrays containing a count and an element&quot;,&quot; * obtained from the given {@code iterable}.&quot;,&quot; * @see http://docs.python.org/2/library/functions.html#enumerate&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable to enumerate.&quot;,&quot; * @param {number=} opt_start  Optional starting value. Default is 0.&quot;,&quot; * @return {!goog.iter.Iterator&lt;!Array&lt;?&gt;&gt;} A new iterator containing&quot;,&quot; *     count/item pairs.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.enumerate = function(iterable, opt_start) {&quot;,&quot;  return goog.iter.zip(goog.iter.count(opt_start), iterable);&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that returns the first {@code limitSize} elements from an&quot;,&quot; * iterable. If this number is greater than the number of elements in the&quot;,&quot; * iterable, all the elements are returned.&quot;,&quot; * @see http://goo.gl/V0sihp Inspired by the limit iterator in Guava.&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable to limit.&quot;,&quot; * @param {number} limitSize  The maximum number of elements to return.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} A new iterator containing&quot;,&quot; *     {@code limitSize} elements.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.limit = function(iterable, limitSize) {&quot;,&quot;  goog.asserts.assert(goog.math.isInt(limitSize) &amp;&amp; limitSize &gt;= 0);&quot;,null,&quot;  var iterator = goog.iter.toIterator(iterable);&quot;,null,&quot;  var iter = new goog.iter.Iterator();&quot;,&quot;  var remaining = limitSize;&quot;,null,&quot;  iter.next = function() {&quot;,&quot;    if (remaining-- &gt; 0) {&quot;,&quot;      return iterator.next();&quot;,&quot;    }&quot;,&quot;    throw goog.iter.StopIteration;&quot;,&quot;  };&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that is advanced {@code count} steps ahead. Consumed&quot;,&quot; * values are silently discarded. If {@code count} is greater than the number&quot;,&quot; * of elements in {@code iterable}, an empty iterator is returned. Subsequent&quot;,&quot; * calls to {@code next()} will throw {@code goog.iter.StopIteration}.&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable to consume.&quot;,&quot; * @param {number} count  The number of elements to consume from the iterator.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} An iterator advanced zero or more steps&quot;,&quot; *     ahead.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.consume = function(iterable, count) {&quot;,&quot;  goog.asserts.assert(goog.math.isInt(count) &amp;&amp; count &gt;= 0);&quot;,null,&quot;  var iterator = goog.iter.toIterator(iterable);&quot;,null,&quot;  while (count-- &gt; 0) {&quot;,&quot;    goog.iter.nextOrValue(iterator, null);&quot;,&quot;  }&quot;,null,&quot;  return iterator;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that returns a range of elements from an iterable.&quot;,&quot; * Similar to {@see goog.array#slice} but does not support negative indexes.&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable to slice.&quot;,&quot; * @param {number} start  The index of the first element to return.&quot;,&quot; * @param {number=} opt_end  The index after the last element to return. If&quot;,&quot; *     defined, must be greater than or equal to {@code start}.&quot;,&quot; * @return {!goog.iter.Iterator&lt;VALUE&gt;} A new iterator containing a slice of&quot;,&quot; *     the original.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.slice = function(iterable, start, opt_end) {&quot;,&quot;  goog.asserts.assert(goog.math.isInt(start) &amp;&amp; start &gt;= 0);&quot;,null,&quot;  var iterator = goog.iter.consume(iterable, start);&quot;,null,&quot;  if (goog.isNumber(opt_end)) {&quot;,&quot;    goog.asserts.assert(goog.math.isInt(opt_end) &amp;&amp; opt_end &gt;= start);&quot;,&quot;    iterator = goog.iter.limit(iterator, opt_end - start /* limitSize */);&quot;,&quot;  }&quot;,null,&quot;  return iterator;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Checks an array for duplicate elements.&quot;,&quot; * @param {?IArrayLike&lt;VALUE&gt;} arr The array to check for&quot;,&quot; *     duplicates.&quot;,&quot; * @return {boolean} True, if the array contains duplicates, false otherwise.&quot;,&quot; * @private&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;// TODO(user): Consider moving this into goog.array as a public function.&quot;,&quot;goog.iter.hasDuplicates_ = function(arr) {&quot;,&quot;  var deduped = [];&quot;,&quot;  goog.array.removeDuplicates(arr, deduped);&quot;,&quot;  return arr.length != deduped.length;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that returns permutations of elements in&quot;,&quot; * {@code iterable}.&quot;,&quot; *&quot;,&quot; * Permutations are obtained by taking the Cartesian product of&quot;,&quot; * {@code opt_length} iterables and filtering out those with repeated&quot;,&quot; * elements. For example, the permutations of {@code [1,2,3]} are&quot;,&quot; * {@code [[1,2,3], [1,3,2], [2,1,3], [2,3,1], [3,1,2], [3,2,1]]}.&quot;,&quot; * @see http://docs.python.org/2/library/itertools.html#itertools.permutations&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable from which to generate permutations.&quot;,&quot; * @param {number=} opt_length Length of each permutation. If omitted, defaults&quot;,&quot; *     to the length of {@code iterable}.&quot;,&quot; * @return {!goog.iter.Iterator&lt;!Array&lt;VALUE&gt;&gt;} A new iterator containing the&quot;,&quot; *     permutations of {@code iterable}.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.permutations = function(iterable, opt_length) {&quot;,&quot;  var elements = goog.iter.toArray(iterable);&quot;,&quot;  var length = goog.isNumber(opt_length) ? opt_length : elements.length;&quot;,null,&quot;  var sets = goog.array.repeat(elements, length);&quot;,&quot;  var product = goog.iter.product.apply(undefined, sets);&quot;,null,&quot;  return goog.iter.filter(&quot;,&quot;      product, function(arr) { return !goog.iter.hasDuplicates_(arr); });&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that returns combinations of elements from&quot;,&quot; * {@code iterable}.&quot;,&quot; *&quot;,&quot; * Combinations are obtained by taking the {@see goog.iter#permutations} of&quot;,&quot; * {@code iterable} and filtering those whose elements appear in the order they&quot;,&quot; * are encountered in {@code iterable}. For example, the 3-length combinations&quot;,&quot; * of {@code [0,1,2,3]} are {@code [[0,1,2], [0,1,3], [0,2,3], [1,2,3]]}.&quot;,&quot; * @see http://docs.python.org/2/library/itertools.html#itertools.combinations&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable from which to generate combinations.&quot;,&quot; * @param {number} length The length of each combination.&quot;,&quot; * @return {!goog.iter.Iterator&lt;!Array&lt;VALUE&gt;&gt;} A new iterator containing&quot;,&quot; *     combinations from the {@code iterable}.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.combinations = function(iterable, length) {&quot;,&quot;  var elements = goog.iter.toArray(iterable);&quot;,&quot;  var indexes = goog.iter.range(elements.length);&quot;,&quot;  var indexIterator = goog.iter.permutations(indexes, length);&quot;,&quot;  // sortedIndexIterator will now give arrays of with the given length that&quot;,&quot;  // indicate what indexes into \&quot;elements\&quot; should be returned on each iteration.&quot;,&quot;  var sortedIndexIterator = goog.iter.filter(&quot;,&quot;      indexIterator, function(arr) { return goog.array.isSorted(arr); });&quot;,null,&quot;  var iter = new goog.iter.Iterator();&quot;,null,&quot;  function getIndexFromElements(index) { return elements[index]; }&quot;,null,&quot;  iter.next = function() {&quot;,&quot;    return goog.array.map(sortedIndexIterator.next(), getIndexFromElements);&quot;,&quot;  };&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Creates an iterator that returns combinations of elements from&quot;,&quot; * {@code iterable}, with repeated elements possible.&quot;,&quot; *&quot;,&quot; * Combinations are obtained by taking the Cartesian product of {@code length}&quot;,&quot; * iterables and filtering those whose elements appear in the order they are&quot;,&quot; * encountered in {@code iterable}. For example, the 2-length combinations of&quot;,&quot; * {@code [1,2,3]} are {@code [[1,1], [1,2], [1,3], [2,2], [2,3], [3,3]]}.&quot;,&quot; * @see https://goo.gl/C0yXe4&quot;,&quot; * @see https://goo.gl/djOCsk&quot;,&quot; * @param {!goog.iter.Iterator&lt;VALUE&gt;|!goog.iter.Iterable} iterable The&quot;,&quot; *     iterable to combine.&quot;,&quot; * @param {number} length The length of each combination.&quot;,&quot; * @return {!goog.iter.Iterator&lt;!Array&lt;VALUE&gt;&gt;} A new iterator containing&quot;,&quot; *     combinations from the {@code iterable}.&quot;,&quot; * @template VALUE&quot;,&quot; */&quot;,&quot;goog.iter.combinationsWithReplacement = function(iterable, length) {&quot;,&quot;  var elements = goog.iter.toArray(iterable);&quot;,&quot;  var indexes = goog.array.range(elements.length);&quot;,&quot;  var sets = goog.array.repeat(indexes, length);&quot;,&quot;  var indexIterator = goog.iter.product.apply(undefined, sets);&quot;,&quot;  // sortedIndexIterator will now give arrays of with the given length that&quot;,&quot;  // indicate what indexes into \&quot;elements\&quot; should be returned on each iteration.&quot;,&quot;  var sortedIndexIterator = goog.iter.filter(&quot;,&quot;      indexIterator, function(arr) { return goog.array.isSorted(arr); });&quot;,null,&quot;  var iter = new goog.iter.Iterator();&quot;,null,&quot;  function getIndexFromElements(index) { return elements[index]; }&quot;,null,&quot;  iter.next = function() {&quot;,&quot;    return goog.array.map(&quot;,&quot;        /** @type {!Array&lt;number&gt;} */&quot;,&quot;        (sortedIndexIterator.next()), getIndexFromElements);&quot;,&quot;  };&quot;,null,&quot;  return iter;&quot;,&quot;};&quot;]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../../../../../../dossier.js" defer></script>
'use strict';function e(){};self.addEventListener("install",function(a){a.waitUntil(self.skipWaiting())});self.addEventListener("activate",function(a){a.waitUntil(self.caches.keys().then(function(a){return Promise.all(a.map(function(a){return self.caches.delete(a)}))}).then(function(){return self.clients.claim()}))});
self.addEventListener("fetch",function(a){a.respondWith(self.caches.match(a.request).then(function(d){var c=fetch(a.request).then(function(b){if(!b||200!==b.status)return b;var c=b.clone();self.caches.open("dossier-cache-v1").then(function(b){return b.put(a.request,c)}).catch(function(a){return console.error("failed to cache response: "+a)});return b});d&&(c=c.catch(e));return d||c}))});
